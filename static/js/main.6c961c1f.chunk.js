(this["webpackJsonpcage-ims-app"]=this["webpackJsonpcage-ims-app"]||[]).push([[0],{550:function(e,t,a){e.exports=a(738)},668:function(e,t,a){},737:function(e,t,a){},738:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),c=a.n(l),o=a(43),s=a(44),i=a(73),d=a(46),u=a(45),m=a(273),h=a(38),f=a(765),E=a(766),p=a(155),g=a(780),b=r.a.createElement("h3",null,"User Name ",r.a.createElement(p.a,{name:"chevron down"})),C=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(f.a,{className:"header"},r.a.createElement(E.a,null,r.a.createElement("h2",null,r.a.createElement(p.a,{name:"camera"}),"CageIMS")),r.a.createElement(E.a,null,r.a.createElement(g.a,{className:"header-dropdown",trigger:b,icon:null,direction:"left"},r.a.createElement(g.a.Menu,null,r.a.createElement(g.a.Item,{icon:"settings",text:"Settings"}),r.a.createElement(g.a.Item,{icon:"sign-out",text:"Sign Out",as:m.b,to:"/logout"})))))}}]),a}(n.Component),I=a(782),D=a(781),k=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(I.a,{variant:"dark",className:"sidebar flex-column"},r.a.createElement(D.a,{className:"flex-column"},r.a.createElement(D.a.Item,null,r.a.createElement(D.a.Link,{href:"#/"},r.a.createElement("h4",null,r.a.createElement(p.a,{name:"sync"}),"Check In/Out"))),r.a.createElement(D.a.Item,null,r.a.createElement(D.a.Link,{href:"#/users"},r.a.createElement("h4",null,r.a.createElement(p.a,{name:"users"}),"Users"))),r.a.createElement(D.a.Item,null,r.a.createElement(D.a.Link,{href:"#/inventory"},r.a.createElement("h4",null,r.a.createElement(p.a,{name:"camera"}),"Inventory"))),r.a.createElement(D.a.Item,null,r.a.createElement(D.a.Link,{href:"#/staff"},r.a.createElement("h4",null,r.a.createElement(p.a,{name:"user"}),"Staff"))),r.a.createElement(D.a.Item,null,r.a.createElement(D.a.Link,{href:"#/transactions"},r.a.createElement("h4",null,r.a.createElement(p.a,{name:"history"}),"Transactions")))))}}]),a}(n.Component),y=a(774),O=(a(668),a(65)),v=a(775),S=a(755),w=a(779),N=a(778),U=a(777),F=a(365),x=a(276),j=a.n(x),T=a(511),M=a.n(T),A=a(520),R=a.n(A),P=a(512),V=a.n(P),B=a(519),L=a.n(B),z=a(363),H=a.n(z),J=a(362),Y=a.n(J),G=a(513),K=a.n(G),W=a(514),$=a.n(W),q=a(516),Q=a.n(q),X=a(517),Z=a.n(X),_=a(518),ee=a.n(_),te=a(521),ae=a.n(te),ne=a(515),re=a.n(ne),le=a(522),ce=a.n(le),oe={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(M.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(V.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(Y.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(K.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(H.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement($.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(re.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(Q.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(Z.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(ee.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(H.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(L.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(Y.a,Object.assign({style:{color:"#12558f"}},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(p.a,Object.assign({name:"search",size:"large",style:{color:"#12558f"}},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(R.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(ae.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(ce.a,Object.assign({},e,{ref:t}))}))},se=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(j.a,{style:{flexGrow:1},components:{Toolbar:function(t){return r.a.createElement("div",null,r.a.createElement("div",{className:"table-header MuiPaper-rounded MuiPaper-elevation2"},r.a.createElement(x.MTableToolbar,t)),e.props.toolbarComponents)}},icons:oe,title:this.props.title,columns:this.props.columns,data:this.props.data,localization:{toolbar:{nRowsSelected:"{0} "+(this.props.itemType?this.props.itemType:"row")+"(s) selected"}},options:Object(F.a)(Object(F.a)({},{search:!0,paging:!1,rowStyle:function(e){return{backgroundColor:e.backgroundColor?e.backgroundColor:e.tableData.id%2===0?"#FAFAFA":"#FFFFFF"}},searchFieldStyle:{backgroundColor:"white",color:"black"}}),this.props.options),onRowClick:this.props.onRowClick,onSelectionChange:this.props.onSelectionChange})}}]),a}(n.Component),ie=a(343),de=a(211),ue=a(528),me=a.n(ue),he=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleSearchResult=n.handleSearchResult.bind(Object(i.a)(n)),n.handleTransactionsChanges=n.handleDataChanges.bind(Object(i.a)(n)),n.state={error:!1,userFound:""},n}return Object(s.a)(a,[{key:"handleSearchResult",value:function(e){this.setState({userFound:e})}},{key:"handleDataChanges",value:function(e){this.props.onUpdateData(e)}},{key:"render",value:function(){var e;return e=this.state.userFound?r.a.createElement(Ee,{data:this.props.data,onDoneClick:this.handleSearchResult,selectedUser:this.state.userFound,onUpdateData:this.handleTransactionsChanges}):r.a.createElement(fe,{users:this.props.data.users,onSuccessfulSearchResult:this.handleSearchResult}),r.a.createElement(y.a,{className:"checkinout"},e)}}]),a}(n.Component),fe=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({searchInput:e.target.value})},n.handleSearchButtonClick=function(){var e=n.props.users.filter((function(e){return e.uid===n.state.searchInput}));e.length>0?n.props.onSuccessfulSearchResult(e[0]):n.setState({error:!0})},n.handleKeyDown=function(e){"Enter"===e.key&&n.handleSearchButtonClick()},n.state={error:!1},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state.error;return r.a.createElement("div",{className:"checkinout-search"},r.a.createElement("h1",null,"Check In/Out"),r.a.createElement(v.a,{error:this.state.error,onChange:this.handleChange,onKeyPress:this.handleKeyDown,size:"huge",fluid:!0,icon:"users",iconPosition:"left",placeholder:"Search by exact ID..."}),e&&r.a.createElement("div",{className:"error-text"},r.a.createElement("p",null,"Error: ID is invalid.")),r.a.createElement(S.a,{size:"big",animated:!0,onClick:this.handleSearchButtonClick},r.a.createElement(S.a.Content,{visible:!0},"Search"),r.a.createElement(S.a.Content,{hidden:!0},r.a.createElement(p.a,{name:"search"}))))}}]),a}(r.a.Component),Ee=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).getTransactionsToShow=function(e){var t=Array.from((e||n.props.data.transactions).filter((function(e){return e.uid===n.props.selectedUser.uid&&!e.checkedInDate})));return t.forEach((function(e){var t=n.props.data.users.filter((function(t){return e.uid===t.uid}));e.fname=t[0]?t[0].fname:"",e.lname=t[0]?t[0].lname:"",t=n.props.data.items.filter((function(t){return e.iid===t.iid})),e.name=t[0]?t[0].name:"",e.category=t[0]?t[0].category:"",e.backgroundColor=!e.checkedInDate&&new Date(e.dueDate).getTime()<(new Date).getTime()?"mistyrose":""})),t},n.getItemsToShow=function(e){return Array.from((e||n.props.data.items).filter((function(e){return!e.atid&&n.props.selectedUser.courses.some((function(t){return e.courses.includes(t)}))})))},n.handleDoneClick=function(){n.props.onDoneClick("")},n.handleOpSelectClick=function(e,t){n.state.transactions.forEach((function(e){e.tableData&&(e.tableData.checked=!1)})),n.state.items.forEach((function(e){e.tableData&&(e.tableData.checked=!1)})),n.setState({op:t,isCheckoutModalOpen:!1})},n.close=function(){return n.setState({selectedItemId:null,isCheckoutModalOpen:!1})},n.handleChange=function(e,t){var a=e.target.value;n.setState((function(e){var n=Object.assign({},e.selectedItem);return n[t]=a,{selectedItem:n}}))},n.handleRowItemClick=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("checkin"===n.state.op){var r=n.state.transactions,l=r.indexOf(t);r[l].tableData.checked=!r[l].tableData.checked,n.setState({transactions:r})}else if("checkout"===n.state.op){var c=n.state.items,o=c.find((function(e){return e.iid===t.iid}));a&&(o.tableData.checked=!o.tableData.checked),n.setState({items:c})}else n.setState({selectedItemId:t.tid,selectedItem:t})},n.handleReturnSelectedItemsClick=function(e){var t=Object.assign({},n.props.data);n.state.transactions.filter((function(e){var t;return null===(t=e.tableData)||void 0===t?void 0:t.checked})).map((function(e){return e.tid})).forEach((function(e){var a=t.transactions.find((function(t){return t.tid===e}));a.checkedInDate=(new Date).getTime(),t.items.find((function(e){return e.iid===a.iid})).atid=""})),n.props.onUpdateData(t),n.setState({transactions:n.getTransactionsToShow(),items:n.getItemsToShow()},n.handleOpSelectClick(e,""))},n.handleCheckOutCartButtonClick=function(e){var t=Object.assign({},n.props.data),a=n.state.items.filter((function(e){var t;return null===(t=e.tableData)||void 0===t?void 0:t.checked})),r=[];a.forEach((function(e){var a=(Math.max.apply(Math,Object(O.a)(t.transactions.concat(r).map((function(e){return e.tid}))))+1).toString();r.push({tid:a,uid:n.props.selectedUser.uid,iid:e.iid,checkedOutDate:(new Date).getTime(),dueDate:null,checkedInDate:""})})),n.setState({newTransactions:r,isCheckoutModalOpen:!0})},n.handleConfirmCheckOutButtonClick=function(e){if(!n.state.newTransactions.some((function(e){return!e.dueDate}))){var t=Object.assign({},n.props.data);t.transactions=t.transactions.concat(n.state.newTransactions),n.state.newTransactions.forEach((function(e){return t.items.find((function(t){return t.iid===e.iid})).atid=e.tid})),n.props.onUpdateData(t),n.setState({transactions:n.getTransactionsToShow(t.transactions),items:n.getItemsToShow()},n.handleOpSelectClick(e,""))}},n.formatDate=function(e){if(!e)return"";var t=new Date(e);return t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()},n.state={op:"",selectedItemId:null,selectedItem:{},selectedItemsToReturn:[],transactions:[],items:[],newTransactions:[],isCheckoutModalOpen:!1,isCheckoutModalAllDateSelectorOpen:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({transactions:this.getTransactionsToShow(),items:this.getItemsToShow()})}},{key:"render",value:function(){var e=this,t=this.state.selectedItemId,a=this.state.selectedItem,n=[{title:"Item Name",field:"name"},{title:"Category",field:"category"},{title:"Transaction Notes",field:"notes"},{title:"Checked Out",field:"checkedOutDate",render:function(t){return e.formatDate(t.checkedOutDate)}},{title:"Due Date",field:"dueDate",render:function(t){return e.formatDate(t.dueDate)}}],l=[{title:"Item Name",field:"name"},{title:"Category",field:"category"},{title:"Notes",field:"notes"}],c=[{title:"Item Name",field:"name"},{title:"Category",field:"category"}],o=[{title:"Item Name",field:"name"},{title:"Category",field:"category"},{title:"Due Date",field:"dueDate",render:function(t){return r.a.createElement(ie.b,{autoOk:!0,error:!e.state.newTransactions.find((function(e){return t.iid===e.iid})).dueDate,variant:"inline",inputVariant:"outlined",label:"Select due date",format:"MM/dd/yyyy",value:e.state.newTransactions.find((function(e){return t.iid===e.iid})).dueDate?new Date(e.state.newTransactions.find((function(e){return t.iid===e.iid})).dueDate):null,InputAdornmentProps:{position:"end"},onChange:function(a){return function(t,a){var n=Array.from(e.state.newTransactions);n.find((function(e){return e.iid===a})).dueDate=t.getTime(),e.setState({newTransactions:n})}(a,t.iid)}})}}],s=[{menuItem:"All",render:function(){return r.a.createElement(se,{data:e.state.items,itemType:"item",columns:l,title:r.a.createElement("h3",null,"All"),onRowClick:function(t,a){return e.handleRowItemClick(t,a)},onSelectionChange:function(t,a){e.handleRowItemClick(t,a,!1)},options:{selection:!0}})}}];Object(O.a)(new Set(this.state.items.map((function(e){return e.category})))).sort().forEach((function(t){s.push({menuItem:t,render:function(){return r.a.createElement(se,{data:e.state.items.filter((function(e){return e.category===t})),itemType:"item",columns:l,title:r.a.createElement("h3",null,t),onRowClick:function(t,a){return e.handleRowItemClick(t,a)},onSelectionChange:function(t,a){e.handleRowItemClick(t,a,!1)},options:{selection:!0}})}})}));var i=[{menuItem:"",render:function(){return r.a.createElement(se,{data:JSON.parse(JSON.stringify(e.state.items.filter((function(e){var t;return null===(t=e.tableData)||void 0===t?void 0:t.checked})))),itemType:"item",columns:c,title:r.a.createElement("h3",null,"Cart"),onRowClick:function(t,a){return e.handleRowItemClick(t,a)},onSelectionChange:function(t,a){e.handleRowItemClick(t,a,!1)},options:{selection:!0,search:!1}})}}];return"checkin"===this.state.op?r.a.createElement("div",{className:"checkinout-viewuser"},r.a.createElement(f.a,{className:"page-menu"},r.a.createElement("h1",null,this.props.selectedUser.fname+" "+this.props.selectedUser.lname," ","-- Check In/Return"),r.a.createElement(S.a,{onClick:function(t){e.handleOpSelectClick(t,"")},size:"big",animated:!0,color:"green"},r.a.createElement(S.a.Content,{visible:!0},"Back"),r.a.createElement(S.a.Content,{hidden:!0},r.a.createElement(p.a,{name:"arrow circle left"})))),r.a.createElement(f.a,null,r.a.createElement("div",{className:"current-table-container"},r.a.createElement(se,{data:this.state.transactions,itemType:"item",columns:n,title:r.a.createElement("h3",null,"Currently held items:"),onRowClick:function(t,a){return e.handleRowItemClick(t,a)},options:{selection:!0}}))),r.a.createElement(f.a,{className:"flex-end"},r.a.createElement(S.a,{onClick:function(t){e.handleOpSelectClick(t,"")},color:"red",size:"big"},r.a.createElement(S.a.Content,{visible:!0},"Cancel")),r.a.createElement(S.a,{onClick:function(t){e.handleReturnSelectedItemsClick(t)},color:"orange",size:"big"},r.a.createElement(S.a.Content,{visible:!0},"Return Selected Items")))):"checkout"===this.state.op?r.a.createElement("div",{className:"checkinout-viewuser"},r.a.createElement(f.a,{className:"page-menu"},r.a.createElement("h1",null,this.props.selectedUser.fname+" "+this.props.selectedUser.lname," ","-- Check Out/Borrow"),r.a.createElement(S.a,{onClick:function(t){e.handleOpSelectClick(t,"")},size:"big",animated:!0,color:"green"},r.a.createElement(S.a.Content,{visible:!0},"Back"),r.a.createElement(S.a.Content,{hidden:!0},r.a.createElement(p.a,{name:"arrow circle left"})))),r.a.createElement(f.a,null,r.a.createElement("div",{className:"checkout-table-wrapper"},r.a.createElement(w.a,{className:"checkout-inv-table",panes:s}),r.a.createElement(w.a,{className:"checkout-cart-table",panes:i}),r.a.createElement(U.a,{centered:!0,size:this.state.selectedUserId>=0?"xl":"lg",show:this.state.isCheckoutModalOpen,onHide:this.close},r.a.createElement(U.a.Header,{bsPrefix:"modal-header"},r.a.createElement(U.a.Title,null,"Check Out")),r.a.createElement(U.a.Body,null,r.a.createElement(f.a,null,r.a.createElement(E.a,null,r.a.createElement(se,{data:JSON.parse(JSON.stringify(this.state.items.filter((function(e){var t;return null===(t=e.tableData)||void 0===t?void 0:t.checked})))),itemType:"item",columns:o,title:r.a.createElement("h3",null,"Cart"),options:{selection:!1,search:!1},toolbarComponents:r.a.createElement("div",{className:"toolbarSetAllDate"},r.a.createElement("div",null,"Set all due dates:",r.a.createElement(de.a,{onClick:function(){return e.setState({isCheckoutModalAllDateSelectorOpen:!0})}},r.a.createElement(me.a,null)),r.a.createElement(ie.a,{autoOk:!0,variant:"inline",open:this.state.isCheckoutModalAllDateSelectorOpen,onClose:function(){return e.setState({isCheckoutModalAllDateSelectorOpen:!1})},format:"MM/dd/yyyy",onChange:function(t){return function(t){var a=Array.from(e.state.newTransactions);a.forEach((function(e){return e.dueDate=t.getTime()})),e.setState({newTransactions:a,isCheckoutModalAllDateSelectorOpen:!1})}(t)},value:null,style:{display:"none"}})))})))),r.a.createElement(U.a.Footer,null,r.a.createElement(S.a,{onClick:function(t){e.close()},color:"red",size:"big"},r.a.createElement(S.a.Content,{visible:!0},"Cancel")),r.a.createElement(S.a,{onClick:function(t){e.handleConfirmCheckOutButtonClick(t)},color:"blue",size:"big"},r.a.createElement(S.a.Content,{visible:!0},"Confirm Check Out")))))),r.a.createElement(f.a,{className:"flex-end"},r.a.createElement(S.a,{onClick:function(t){e.handleOpSelectClick(t,"")},color:"red",size:"big"},r.a.createElement(S.a.Content,{visible:!0},"Cancel")),r.a.createElement(S.a,{onClick:function(t){e.handleCheckOutCartButtonClick(t)},color:"blue",size:"big"},r.a.createElement(S.a.Content,{visible:!0},"Check Out Selected Items")))):r.a.createElement("div",{className:"checkinout-viewuser"},r.a.createElement(f.a,{className:"page-menu"},r.a.createElement("h1",null,this.props.selectedUser.fname+" "+this.props.selectedUser.lname),r.a.createElement(S.a,{onClick:this.handleDoneClick,size:"big",animated:!0,color:"green"},r.a.createElement(S.a.Content,{visible:!0},"Complete Transactions"),r.a.createElement(S.a.Content,{hidden:!0},r.a.createElement(p.a,{name:"check"})))),r.a.createElement(f.a,null,r.a.createElement("div",{className:"current-table-container"},r.a.createElement(se,{data:this.state.transactions,itemType:"item",columns:n,title:r.a.createElement("h3",null,"Currently held items:"),onRowClick:function(t,a){return e.handleRowItemClick(t,a)}}),r.a.createElement(U.a,{centered:!0,size:(this.state.selectedItemId,"lg"),show:null!=t,onHide:this.close},r.a.createElement(U.a.Header,{closeButton:!0,bsPrefix:"modal-header"},r.a.createElement(U.a.Title,null,"Item")),r.a.createElement(U.a.Body,null,r.a.createElement(f.a,null,r.a.createElement(E.a,null,r.a.createElement(N.a,null,r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"First Name:",this.state.nameError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(N.a.Input,{error:this.state.nameError,name:"fname",placeholder:"First Name",defaultValue:a.fname,readOnly:!0})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Last Name:",this.state.nameError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(N.a.Input,{error:this.state.nameError,name:"lname",placeholder:"Last Name",defaultValue:a.lname,readOnly:!0})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Item Name:",this.state.categoryError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(N.a.Input,{error:this.state.categoryError,name:"name",placeholder:"name",defaultValue:a.category,readOnly:!0})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Category:",this.state.notesError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(N.a.Input,{name:"category",error:this.state.notesError,placeholder:"Category",defaultValue:a.notes,readOnly:!0})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Serial:",this.state.serialError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(N.a.Input,{name:"serial",error:this.state.serialError,placeholder:"Serial",defaultValue:a.serial,onChange:function(t){e.handleChange(t,"serial")},readOnly:!0})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Notes:",this.state.notesError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(N.a.Input,{name:"notes",error:this.state.notesError,placeholder:"Notes",defaultValue:a.notes,onChange:function(t){e.handleChange(t,"notes")},readOnly:!0})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Checked Out:"),r.a.createElement(N.a.Input,{name:"checkedOut",placeholder:"Checked Out",defaultValue:a.checkedOutDate,onChange:function(t){e.handleChange(t,"checkedOutDate")},readOnly:!0})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Checked In:"),r.a.createElement(N.a.Input,{name:"checkedIn",placeholder:"Checked In",error:!a.checkedInDate,defaultValue:a.checkedInDate,onChange:function(t){e.handleChange(t,"checkedInDate")},readOnly:!0})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Due Date:"),r.a.createElement(N.a.Input,{name:"due",placeholder:"Due Date",defaultValue:a.dueDate,onChange:function(t){e.handleChange(t,"dueDate")},readOnly:!0})))))),r.a.createElement(U.a.Footer,null)))),r.a.createElement(f.a,{className:"checkinout-buttons"},r.a.createElement(S.a,{onClick:function(t){e.handleOpSelectClick(t,"checkin")},color:"orange",size:"big"},r.a.createElement(S.a.Content,{visible:!0},"Return Items")),r.a.createElement(S.a,{onClick:function(t){e.handleOpSelectClick(t,"checkout")},color:"blue",size:"big"},r.a.createElement(S.a.Content,{visible:!0},"Check Out Items"))))}}]),a}(r.a.Component),pe=a(776),ge=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).close=function(){return n.setState({selectedUserId:null,firstNameError:!1,lastNameError:!1,idError:!1,emailError:!1,editable:!0,submitName:"Close",submitIcon:null,isChangesMadeToModal:!1})},n.handleChange=function(e,t){var a=e.target.value;n.setState((function(e){var n=Object.assign({},e.selectedUser);return n[t]=a,{selectedUser:n,isChangesMadeToModal:!0}}))},n.handleUserEditClick=function(){n.setState({editable:!n.state.editable})},n.handleUserSelectClick=function(e,t){n.setState({selectedUserId:t.tableData.id,selectedUser:n.props.data.users[t.tableData.id]}),n.setState((function(e){var t=Object.assign({},e.selectedUser),a=Array.from(n.props.data.transactions.filter((function(e){return e.uid===t.uid})));return a.forEach((function(e){e.backgroundColor=!e.checkedInDate&&new Date(e.dueDate).getTime()<(new Date).getTime()?"mistyrose":""})),t.transactions=a,{selectedUser:t}}))},n.handleAddUserClick=function(){n.setState({selectedUserId:-1,selectedUser:{fname:"",lname:"",courses:[],uid:"",email:"",phone:"",notes:"",creationDate:(new Date).getTime(),tranactions:[]},editable:!1})},n.checkErrorUpdateDataSet=function(){if(!n.state.firstNameError&&!n.state.lastNameError&&!n.state.idError&&!n.state.emailError){var e=Object.assign({},n.props.data);n.state.selectedUserId>=0?e.users[n.state.selectedUserId]=n.state.selectedUser:e.users.push(n.state.selectedUser),n.props.onUpdateData(e),n.close()}},n.handleSubmitClick=function(){n.setState({firstNameError:""===n.state.selectedUser.fname,lastNameError:""===n.state.selectedUser.lname,idError:""===n.state.selectedUser.uid,emailError:""===n.state.selectedUser.email},n.checkErrorUpdateDataSet)},n.handleDropdownChange=function(e,t){var a=t.value;n.setState((function(e){var t=Object.assign({},e.selectedUser);return t.courses=a,{selectedUser:t,isChangesMadeToModal:!0}}))},n.formatDate=function(e){if(!e)return"";var t=new Date(e);return t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()},n.formatUserDate=function(e){if(!e)return"";var t=new Date(e),a=t.getHours(),n="";return a>12?(a-=12,n="PM"):0===a?(a=12,n="AM"):a<12&&(n="AM"),t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()+" "+a+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":"+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())+" "+n},n.handleChange=n.handleChange.bind(Object(i.a)(n)),n.state={columnSet:[{title:"Last Name",field:"lname",defaultSort:"asc"},{title:"First Name",field:"fname"},{title:"Courses",field:"courses",render:function(e){return e.courses.length>0?e.courses.reduce((function(e,t){return r.a.createElement(r.a.Fragment,null,e,", ",t)})):""}}],open:!1,firstNameError:!1,lastNameError:!1,idError:!1,emailError:!1,editable:!0,isChangesMadeToModal:!1,selectedUserId:null,selectedUser:{fname:"",lname:"",courses:[],uid:"",email:"",phone:"",notes:"",transactions:[],creationDate:""}},n}return Object(s.a)(a,[{key:"render",value:function(){var e,t=this,a=this.state.selectedUserId,n=this.state.selectedUser;if(null!=this.state.selectedUserId&&this.state.selectedUserId>=0){var l=[{menuItem:"Due Items",render:function(){return r.a.createElement(se,{title:t.state.selectedUser.fname+" "+t.state.selectedUser.lname,columns:[{title:"Item ID",field:"iid"},{title:"Transaction ID",field:"tid"},{title:"Checked Out Date",field:"checkedOutDate",render:function(e){return t.formatDate(e.checkedOutDate)}},{title:"Due Date",field:"dueDate",render:function(e){return t.formatDate(e.dueDate)}}],data:Array.from(t.state.selectedUser.transactions.filter((function(e){return""===e.checkedInDate})))})}},{menuItem:"Completed Transactions",render:function(){return r.a.createElement(se,{title:t.state.selectedUser.fname+" "+t.state.selectedUser.lname,columns:[{title:"Item ID",field:"iid"},{title:"Transaction ID",field:"tid"},{title:"Checked Out Date",field:"checkedOutDate",render:function(e){return t.formatDate(e.checkedOutDate)}},{title:"Checked In Date",field:"checkedInDate",render:function(e){return t.formatDate(e.checkedInDate)}}],data:Array.from(t.state.selectedUser.transactions.filter((function(e){return!(""===e.checkedInDate)})))})}}];e=r.a.createElement(E.a,null,r.a.createElement(w.a,{panes:l,className:"stretch-h flex-col"}))}var c=Array.from(new Set([].concat.apply([],[this.state.selectedUser].concat(Object(O.a)(this.props.data.items),Object(O.a)(this.props.data.users)).filter((function(e){return e.courses})).map((function(e){return e.courses}))))).sort().map((function(e){return{text:e,value:e}}));return r.a.createElement(E.a,{className:"stretch-h flex-col"},r.a.createElement("div",{className:"top-bar"},r.a.createElement(S.a,{basic:!0,onClick:this.handleAddUserClick},"Create New User"),r.a.createElement(pe.a,{clearing:!0})),r.a.createElement("div",{className:"page-content stretch-h"},r.a.createElement(E.a,{className:"stretch-h flex-col"},r.a.createElement(se,{data:Array.from(this.props.data.users),columns:this.state.columnSet,title:r.a.createElement("h2",null,"Users"),onRowClick:function(e,a){return t.handleUserSelectClick(e,a)}}),r.a.createElement(U.a,{centered:!0,size:a>=0?"xl":"lg",show:null!=a,onHide:this.close},r.a.createElement(U.a.Header,{closeButton:!0,bsPrefix:"modal-header"},r.a.createElement(U.a.Title,null,"User")),r.a.createElement(U.a.Body,null,r.a.createElement(f.a,null,r.a.createElement(E.a,null,r.a.createElement(N.a,null,r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"First Name:",this.state.firstNameError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(N.a.Input,{error:this.state.firstNameError,name:"fname",placeholder:"First Name",defaultValue:n.fname,onChange:function(e){t.handleChange(e,"fname")},readOnly:this.state.editable})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Last Name:",this.state.lastNameError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(N.a.Input,{error:this.state.lastNameError,name:"lname",placeholder:"Last Name",defaultValue:n.lname,onChange:function(e){t.handleChange(e,"lname")},readOnly:this.state.editable})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Courses:"),r.a.createElement(g.a,{placeholder:"Courses",name:"courses",fluid:!0,multiple:!0,search:!0,selection:!0,allowAdditions:!0,options:c,value:n.courses,onChange:this.handleDropdownChange,disabled:this.state.editable})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"UML ID:",this.state.idError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(N.a.Input,{name:"id",error:this.state.idError,placeholder:"UML ID",defaultValue:n.uid,onChange:function(e){t.handleChange(e,"uid")},readOnly:this.state.editable})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Email:",this.state.emailError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(N.a.Input,{name:"email",error:this.state.emailError,placeholder:"Email",defaultValue:n.email,onChange:function(e){t.handleChange(e,"email")},readOnly:this.state.editable})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Phone Number:"),r.a.createElement(N.a.Input,{name:"phone",placeholder:"Phone Number",defaultValue:n.phone,onChange:function(e){t.handleChange(e,"phone")},readOnly:this.state.editable})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Notes:"),r.a.createElement(N.a.Input,{name:"notes",placeholder:"Notes",defaultValue:n.notes,onChange:function(e){t.handleChange(e,"notes")},readOnly:this.state.editable})),a>=0?r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Date Created:"),r.a.createElement(N.a.Input,{name:"creationDate",placeholder:"creationDate",defaultValue:this.formatUserDate(n.creationDate),readOnly:!0})):null)),e)),r.a.createElement(U.a.Footer,null,this.state.selectedUserId>=0?r.a.createElement(S.a,{className:"btn btn-primary mr-auto",toggle:!0,active:!this.state.editable,onClick:this.handleUserEditClick},r.a.createElement(p.a,{name:"pencil"}),"Edit"):null,r.a.createElement(S.a,{id:"add-icon-handler",variant:"primary",onClick:this.handleSubmitClick},this.state.isChangesMadeToModal?r.a.createElement(p.a,{name:"save"}):null,this.state.isChangesMadeToModal?"Save":"Close"))))))}}]),a}(n.Component),be=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(o.a)(this,a),(n=t.call(this,e)).close=function(){return n.setState({selectedItemId:null,nameError:!1,categoryError:!1,serialError:!1,editable:!0,submitName:"Close",submitIcon:null,isChangesMadeToModal:!1,isItemIdUnavailable:!1})},n.handleChange=function(e,t){var a=e.target.value;"iid"===t&&(a=n.handleItemIdVerify(a)),n.setState((function(e){var n=Object.assign({},e.selectedItem);return n[t]=a,{selectedItem:n,isChangesMadeToModal:!0}}))},n.handleUserSelectClick=function(e,t){n.setState({selectedItemId:t.tableData.id,selectedItem:n.props.data.items[t.tableData.id]})},n.handleAddUserClick=function(){n.setState({selectedItemId:-1,selectedItem:{name:"",iid:n.generateInitialNextItemId(),serial:"",category:"",notes:"",atid:"",courses:[],creationDate:(new Date).getTime(),expected:""},editable:!1,isChangesMadeToModal:!1})},n.handleUserEditClick=function(){n.setState({editable:!n.state.editable})},n.checkErrorUpdateDataSet=function(){if(!n.state.nameError&&!n.state.categoryError&&!n.state.serialError&&!n.state.isItemIdUnavailable&&!n.state.iidError){var e=Object.assign({},n.props.data);n.state.selectedItemId>=0?e.items[n.state.selectedItemId]=n.state.selectedItem:e.items.push(n.state.selectedItem),n.props.onUpdateData(e),n.close()}},n.handleSubmitClick=function(){n.state.isChangesMadeToModal?n.setState({nameError:""===n.state.selectedItem.name,categoryError:""===n.state.selectedItem.category,iidError:""===n.state.selectedItem.iid,serialError:""===n.state.selectedItem.serial},n.checkErrorUpdateDataSet):n.close()},n.formatDate=function(e){if(!e)return"";var t=new Date(e);return t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()},n.formatDateForSearchBar=function(e){if(!e)return"";var t=new Date(e);return["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]+" "+t.getDate()+" "+t.getFullYear()},n.formatItemDate=function(e){if(!e)return"";var t=new Date(e),a=t.getHours(),n="";return a>12?(a-=12,n="PM"):0===a?(a=12,n="AM"):a<12&&(n="AM"),t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()+" "+a+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":"+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())+" "+n},n.handleCourseDropdownChange=function(e,t){var a=t.value;n.setState((function(e){var t=Object.assign({},e.selectedItem);return t.courses=a,{selectedItem:t,isChangesMadeToModal:!0}}))},n.handleBrandDropdownChange=function(e,t){var a=t.value;n.setState((function(e){var t=Object.assign({},e.selectedItem);return t.brand=a,{selectedItem:t,isChangesMadeToModal:!0}}))},n.handleCategoryDropdownChange=function(e,t){var a=t.value;n.setState((function(e){var t=Object.assign({},e.selectedItem);return t.category=a,{selectedItem:t,isChangesMadeToModal:!0}}))},n.handleItemIdVerify=function(e){if(""===e)return"";if(isNaN(e))return n.setState({isItemIdUnavailable:!0}),e;var t="0".repeat(4-e.length)+e;return n.setState({isItemIdUnavailable:n.props.data.items.some((function(e,a){return e.iid===t&&n.state.selectedItemId!==a}))}),t},n.generateInitialNextItemId=function(){if(0===n.props.data.items.length)return"0001";var e=n.props.data.items.map((function(e){return parseInt(e.iid)})).sort((function(e,t){return e-t})),t=(e.find((function(t){return!e.includes(t+1)}))+1).toString();return"0".repeat(4-t.length)+t},n.handleChange=n.handleChange.bind(Object(i.a)(n));var l={backgroundColor:"#E2E2E2",color:"black",fontSize:"24"};return n.state={columnSet:[{title:"Item Name",field:"name",headerStyle:l},{title:"Brand",field:"brand",headerStyle:l},{title:"Category",field:"category",headerStyle:l},{title:"Item ID",field:"iid",defaultSort:"asc",headerStyle:l},{title:"Serial",field:"serial",headerStyle:l},{title:"Availablity",field:"atid",headerStyle:l,render:function(e){return""===e.atid?"Available":"Unavailable"}},{title:"Notes",field:"notes",headerStyle:l},{title:"Courses",field:"courses",headerStyle:l,render:function(e){return e.courses.length>0?e.courses.reduce((function(e,t){return r.a.createElement(r.a.Fragment,null,e,", ",t)})):""}},{title:"Expected Return Date",field:"expected",headerStyle:l,render:function(e){return n.formatDate(e.expected)},customFilterAndSearch:function(e,t){return-1!==n.formatDateForSearchBar(t.expected).indexOf(e)||-1!==n.formatDate(t.expected).indexOf(e)}}],open:!1,nameError:!1,categoryError:!1,iidError:!1,serialError:!1,editable:!0,isChangesMadeToModal:!1,isItemIdUnavailable:!1,selectedItemId:null,selectedItem:{name:"",iid:"",serial:"",category:"",notes:"",atid:"",courses:[],expected:"",creationDate:""}},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.state.selectedItemId,a=this.state.selectedItem;Array.from(this.props.data.items).forEach((function(t){var a=e.props.data.transactions.filter((function(e){return t.atid===e.tid}));t.expected=""!==t.atid?a[0].dueDate:"",t.backgroundColor=""!==t.atid?"mistyrose":""}));var n=[{menuItem:"All",render:function(){return r.a.createElement(se,{data:Array.from(e.props.data.items),columns:e.state.columnSet,title:r.a.createElement("h2",null,"Inventory"),onRowClick:function(t,a){return e.handleUserSelectClick(t,a)}})}},{menuItem:"Available",render:function(){return r.a.createElement(se,{data:Array.from(e.props.data.items.filter((function(e){return"mistyrose"!==e.backgroundColor}))),columns:e.state.columnSet,title:r.a.createElement("h2",null,"Inventory"),onRowClick:function(t,a){return e.handleUserSelectClick(t,a)}})}},{menuItem:"Unavailable",render:function(){return r.a.createElement(se,{data:Array.from(e.props.data.items.filter((function(e){return"mistyrose"===e.backgroundColor}))),columns:e.state.columnSet,title:r.a.createElement("h2",null,"Inventory"),onRowClick:function(t,a){return e.handleUserSelectClick(t,a)}})}}],l=Array.from(new Set([].concat.apply([],[this.state.selectedItem].concat(Object(O.a)(this.props.data.items),Object(O.a)(this.props.data.users)).filter((function(e){return e.courses})).map((function(e){return e.courses}))))).sort().map((function(e){return{text:e,value:e}})),c=Array.from(new Set([this.state.selectedItem].concat(Object(O.a)(this.props.data.items)).filter((function(e){return e.brand})).map((function(e){return e.brand})))).sort().map((function(e){return{text:e,value:e}})),o=Array.from(new Set([this.state.selectedItem].concat(Object(O.a)(this.props.data.items)).filter((function(e){return e.category})).map((function(e){return e.category})))).sort().map((function(e){return{text:e,value:e}}));return r.a.createElement(E.a,{className:"stretch-h flex-col"},r.a.createElement("div",{className:"top-bar"},r.a.createElement(S.a,{basic:!0,onClick:this.handleAddUserClick},"Create New Item"),r.a.createElement(pe.a,{clearing:!0})),r.a.createElement("div",{className:"page-content stretch-h"},r.a.createElement(E.a,{className:"stretch-h flex-col"},r.a.createElement(w.a,{panes:n,className:"stretch-h flex-col"}),r.a.createElement(U.a,{centered:!0,size:(this.state.selectedItemId,"lg"),show:null!=t,onHide:this.close},r.a.createElement(U.a.Header,{closeButton:!0,bsPrefix:"modal-header"},r.a.createElement(U.a.Title,null,"Item")),r.a.createElement(U.a.Body,null,r.a.createElement(f.a,null,r.a.createElement(E.a,null,r.a.createElement(N.a,null,r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Name:",this.state.nameError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(N.a.Input,{error:this.state.nameError,name:"name",placeholder:"Name",defaultValue:a.name,onChange:function(t){e.handleChange(t,"name")},readOnly:this.state.editable})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Brand:"),r.a.createElement(g.a,{placeholder:"Brand",name:"brand",fluid:!0,search:!0,selection:!0,allowAdditions:!0,clearable:!0,options:c,value:a.brand,onChange:this.handleBrandDropdownChange,disabled:this.state.editable})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Category:",this.state.categoryError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(g.a,{placeholder:"Category",name:"category",fluid:!0,error:this.state.categoryError,search:!0,selection:!0,allowAdditions:!0,options:o,value:a.category,onChange:this.handleCategoryDropdownChange,disabled:this.state.editable})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Courses:"),r.a.createElement(g.a,{placeholder:"Courses",name:"courses",fluid:!0,multiple:!0,search:!0,selection:!0,allowAdditions:!0,options:l,value:a.courses,onChange:this.handleCourseDropdownChange,disabled:this.state.editable})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Item ID:",this.state.iidError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")||this.state.isItemIdUnavailable&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Item ID is Taken or Incorrect")),r.a.createElement(N.a.Input,{name:"iid",error:this.state.iidError||this.state.isItemIdUnavailable,maxLength:"4",placeholder:"Item ID",defaultValue:a.iid,onChange:function(t){e.handleChange(t,"iid")},readOnly:this.state.editable})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Serial ID:",this.state.serialError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(N.a.Input,{name:"serial",error:this.state.serialError,placeholder:"Serial",defaultValue:a.serial,onChange:function(t){e.handleChange(t,"serial")},readOnly:this.state.editable})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Notes:"),r.a.createElement(N.a.Input,{name:"notes",error:this.state.notesError,placeholder:"Notes",defaultValue:a.notes,onChange:function(t){e.handleChange(t,"notes")},readOnly:this.state.editable})),this.state.selectedItemId>=0?r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Date Created:"),r.a.createElement(N.a.Input,{name:"creationDate",placeholder:"creationDate",defaultValue:this.formatItemDate(a.creationDate),readOnly:!0})):null,""!==this.state.selectedItem.expected?r.a.createElement("div",null,r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Transaction ID:"),r.a.createElement(N.a.Input,{name:"atid",placeholder:"Transaction ID",defaultValue:a.atid,readOnly:!0})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Expected Return Date:"),r.a.createElement(N.a.Input,{name:"expected",placeholder:"Expected Return Date",defaultValue:this.formatDate(a.expected),readOnly:!0}))):null)))),r.a.createElement(U.a.Footer,null,this.state.selectedItemId>=0?r.a.createElement(S.a,{className:"btn btn-primary mr-auto",toggle:!0,active:!this.state.editable,onClick:this.handleUserEditClick},r.a.createElement(p.a,{name:"pencil"}),"Edit"):null,r.a.createElement(S.a,{id:"add-icon-handler",variant:"primary",onClick:this.handleSubmitClick},this.state.isChangesMadeToModal?r.a.createElement(p.a,{name:"save"}):null,this.state.isChangesMadeToModal?"Save":"Close"))))))}}]),a}(n.Component),Ce=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).close=function(){return n.setState({selectedUserId:null,firstNameError:!1,lastNameError:!1,idError:!1,emailError:!1})},n.handleChange=function(e,t){var a=e.target.value;n.setState((function(e){var n=Object.assign({},e.selectedUser);return n[t]=a,{selectedUser:n}}))},n.handleUserSelectClick=function(e,t){n.setState({selectedUserId:t.tableData.id,selectedUser:n.state.dataSet[t.tableData.id]})},n.handleAddUserClick=function(){n.setState({selectedUserId:-1,selectedUser:{fname:"",lname:"",courses:[],roles:[],id:"",email:"",phone:""}})},n.checkErrorUpdateDataSet=function(){n.state.firstNameError||n.state.lastNameError||n.state.idError||n.state.emailError||n.setState((function(e){var t=Array.from(e.dataSet);return n.state.selectedUserId>=0?t[n.state.selectedUserId]=n.state.selectedUser:t.push(n.state.selectedUser),{dataSet:t}}),n.close)},n.handleSubmitClick=function(){n.setState({firstNameError:""===n.state.selectedUser.fname,lastNameError:""===n.state.selectedUser.lname,idError:""===n.state.selectedUser.id,emailError:""===n.state.selectedUser.email},n.checkErrorUpdateDataSet)},n.handleDropdownAdditionRoles=function(e,t){var a=t.value;n.setState((function(e){return{roleOptions:[{text:a,value:a}].concat(Object(O.a)(e.roleOptions))}}))},n.handleDropdownAdditionCourses=function(e,t){var a=t.value;n.setState((function(e){return{courseOptions:[{text:a,value:a}].concat(Object(O.a)(e.courseOptions))}}))},n.handleDropdownChangeCourses=function(e,t){var a=t.value;n.setState((function(e){var t=Object.assign({},e.selectedUser);return t.courses=a,{selectedUser:t}}))},n.handleDropdownChangeRoles=function(e,t){var a=t.value;n.setState((function(e){var t=Object.assign({},e.selectedUser);return t.roles=a,{selectedUser:t}}))},n.handleChange=n.handleChange.bind(Object(i.a)(n)),n.state={dataSet:[{fname:"Seamus",lname:"Rioux",courses:["Photography I","Photography II"],roles:["Admin","Staff"],id:"54321",email:"seamus.rioux3@gmail.com",phone:"123-456-7890"},{fname:"Greg",lname:"Smelkov",courses:["Photography I"],roles:["Admin"],id:"12345",email:"greg@gmail.com",phone:"123-456-7890"}],columnSet:[{title:"First Name",field:"fname"},{title:"Last Name",field:"lname"},{title:"Courses",field:"courses",render:function(e){return e.courses.length>0?e.courses.reduce((function(e,t){return r.a.createElement(r.a.Fragment,null,e,", ",t)})):""}},{title:"Roles",field:"roles",render:function(e){return e.roles.length>0?e.roles.reduce((function(e,t){return r.a.createElement(r.a.Fragment,null,e,", ",t)})):""}}],open:!1,firstNameError:!1,lastNameError:!1,idError:!1,emailError:!1,selectedUserId:null,selectedUser:{fname:"",lname:"",courses:[],roles:[],id:"",email:"",phone:""},courseOptions:[{text:"Photography I",value:"Photography I"},{text:"Photography II",value:"Photography II"},{text:"Documentary Image",value:"Documentary Image"}],roleOptions:[{text:"Admin",value:"Admin"},{text:"Staff",value:"Staff"}]},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.state.selectedUserId,a=this.state.selectedUser,n=this.state.courseOptions,l=this.state.roleOptions;return r.a.createElement(E.a,{className:"stretch-h flex-col"},r.a.createElement("div",{className:"top-bar"},r.a.createElement(S.a,{basic:!0,onClick:this.handleAddUserClick},"Create New Staff"),r.a.createElement(pe.a,{clearing:!0})),r.a.createElement("div",{className:"page-content stretch-h"},r.a.createElement(E.a,{className:"stretch-h flex-col"},r.a.createElement(se,{data:Array.from(this.state.dataSet),columns:this.state.columnSet,title:r.a.createElement("h2",null,"Staff"),onRowClick:function(t,a){return e.handleUserSelectClick(t,a)}}),r.a.createElement(U.a,{centered:!0,size:"lg",show:null!=t,onHide:this.close},r.a.createElement(U.a.Header,{closeButton:!0,bsPrefix:"modal-header"},r.a.createElement(U.a.Title,null,"Staff")),r.a.createElement(U.a.Body,null,r.a.createElement(f.a,null,r.a.createElement(E.a,null,r.a.createElement(N.a,null,r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"First Name:",this.state.firstNameError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(N.a.Input,{error:this.state.firstNameError,name:"fname",placeholder:"First Name",defaultValue:a.fname,onChange:function(t){e.handleChange(t,"fname")}})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Last Name:",this.state.lastNameError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(N.a.Input,{error:this.state.lastNameError,name:"lname",placeholder:"Last Name",defaultValue:a.lname,onChange:function(t){e.handleChange(t,"lname")}})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Courses:"),r.a.createElement(g.a,{placeholder:"Courses",name:"courses",fluid:!0,multiple:!0,search:!0,selection:!0,allowAdditions:!0,options:n,value:a.courses,onAddItem:this.handleDropdownAdditionCourses,onChange:this.handleDropdownChangeCourses})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Roles:"),r.a.createElement(g.a,{placeholder:"Roles",name:"roles",fluid:!0,multiple:!0,search:!0,selection:!0,allowAdditions:!0,options:l,value:a.roles,onAddItem:this.handleDropdownAdditionRoles,onChange:this.handleDropdownChangeRoles})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"UML ID:",this.state.idError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(N.a.Input,{name:"id",error:this.state.idError,placeholder:"UML ID",defaultValue:a.id,onChange:function(t){e.handleChange(t,"id")}})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Email:",this.state.emailError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(N.a.Input,{name:"email",error:this.state.emailError,placeholder:"Email",defaultValue:a.email,onChange:function(t){e.handleChange(t,"email")}})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Phone Number:"),r.a.createElement(N.a.Input,{type:"phone",placeholder:"Phone Number",defaultValue:a.phone,onChange:function(t){e.handleChange(t,"phone")}})))))),r.a.createElement(U.a.Footer,null,r.a.createElement(S.a,{id:"add-icon-handler",variant:"primary",onClick:this.handleSubmitClick},"Submit"))))))}}]),a}(n.Component),Ie=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).close=function(){return n.setState({selectedItemId:null})},n.handleChange=function(e,t){var a=e.target.value;n.setState((function(e){var n=Object.assign({},e.selectedItem);return n[t]=a,{selectedItem:n}}))},n.handleUserSelectClick=function(e,t){n.setState({selectedItemId:t.tid,selectedItem:t})},n.handleDropdownAddition=function(e,t){var a=t.value;n.setState((function(e){return{courseOptions:[{text:a,value:a}].concat(Object(O.a)(e.courseOptions))}}))},n.handleDropdownChange=function(e,t){var a=t.value;n.setState((function(e){var t=Object.assign({},e.selectedItem);return t.courses=a,{selectedItem:t}}))},n.formatDate=function(e){if(!e)return"";var t=new Date(e);return t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()},n.formatDateForSearchBar=function(e){if(!e)return"";var t=new Date(e);return console.log(t.getMonth()),["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]+" "+t.getDate()+" "+t.getFullYear()},n.handleChange=n.handleChange.bind(Object(i.a)(n)),n.state={columnSet:[{title:"First Name",field:"fname"},{title:"Last Name",field:"lname"},{title:"Item Name",field:"name"},{title:"Item ID",field:"iid"},{title:"Category",field:"category"},{title:"Notes",field:"notes"},{title:"Checked Out",field:"checkedOutDate",render:function(e){return n.formatDate(e.checkedOutDate)},customFilterAndSearch:function(e,t){return-1!==n.formatDateForSearchBar(t.checkedOutDate).indexOf(e)||-1!==n.formatDate(t.checkedOutDate).indexOf(e)}},{title:"Due Date",field:"dueDate",render:function(e){return n.formatDate(e.dueDate)},customFilterAndSearch:function(e,t){return-1!==n.formatDateForSearchBar(t.dueDate).indexOf(e)||-1!==n.formatDate(t.dueDate).indexOf(e)}},{title:"Checked In",field:"checkedInDate",render:function(e){return n.formatDate(e.checkedInDate)},defaultSort:"dec",customFilterAndSearch:function(e,t){return-1!==n.formatDateForSearchBar(t.checkedInDate).indexOf(e)||-1!==n.formatDate(t.checkedInDate).indexOf(e)}}],open:!1,selectedItemId:null,selectedItem:{fname:"",lname:"",name:"",iid:"",category:"",notes:"",checkedOutDate:"",checkedInDate:"",dueDate:""}},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.state.selectedItemId,a=this.state.selectedItem,n=Array.from(this.props.data.transactions);return n.forEach((function(t){var a=e.props.data.users.filter((function(e){return t.uid===e.uid}));t.fname=a[0]?a[0].fname:"",t.lname=a[0]?a[0].lname:"",a=e.props.data.items.filter((function(e){return t.iid===e.iid})),t.name=a[0]?a[0].name:"",t.iid=a[0]?a[0].iid:"",t.category=a[0]?a[0].category:"",t.backgroundColor=!t.checkedInDate&&new Date(t.dueDate).getTime()<(new Date).getTime()?"mistyrose":""})),r.a.createElement(E.a,{className:"stretch-h flex-col"},r.a.createElement("div",{className:"top-bar"},r.a.createElement(S.a,{basic:!0,href:"#/"},"Create New Transaction"),r.a.createElement(pe.a,{clearing:!0})),r.a.createElement("div",{className:"page-content stretch-h"},r.a.createElement(E.a,{className:"stretch-h flex-col"},r.a.createElement(se,{data:n,columns:this.state.columnSet,title:r.a.createElement("h2",null,"Transaction History"),onRowClick:function(t,a){return e.handleUserSelectClick(t,a)}}),r.a.createElement(U.a,{centered:!0,size:(this.state.selectedItemId,"lg"),show:null!=t,onHide:this.close},r.a.createElement(U.a.Header,{closeButton:!0,bsPrefix:"modal-header"},r.a.createElement(U.a.Title,null,"Item")),r.a.createElement(U.a.Body,null,r.a.createElement(f.a,null,r.a.createElement(E.a,null,r.a.createElement(N.a,null,r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"First Name: "),r.a.createElement(N.a.Input,{name:"fname",placeholder:"First Name",defaultValue:a.fname,readOnly:!0})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Last Name:"),r.a.createElement(N.a.Input,{name:"lname",placeholder:"Last Name",defaultValue:a.lname,readOnly:!0})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Item Name:"),r.a.createElement(N.a.Input,{name:"name",placeholder:"name",defaultValue:a.name,readOnly:!0})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Category:"),r.a.createElement(N.a.Input,{name:"category",placeholder:"Category",defaultValue:a.category,readOnly:!0})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Item ID:"),r.a.createElement(N.a.Input,{name:"iid",placeholder:"Item ID",defaultValue:a.iid,readOnly:!0})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Notes:"),r.a.createElement(N.a.Input,{name:"notes",placeholder:"Notes",defaultValue:a.notes,readOnly:!0})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Checked Out:"),r.a.createElement(N.a.Input,{name:"checkedOut",placeholder:"Checked Out",defaultValue:this.formatDate(a.checkedOutDate),readOnly:!0})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Checked In:"),r.a.createElement(N.a.Input,{name:"checkedIn",placeholder:"Checked In",error:!a.checkedInDate,defaultValue:this.formatDate(a.checkedInDate),readOnly:!0})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Due Date:"),r.a.createElement(N.a.Input,{name:"due",placeholder:"Due Date",defaultValue:this.formatDate(a.dueDate),readOnly:!0})))))),r.a.createElement(U.a.Footer,null)))))}}]),a}(n.Component),De=a(30),ke=a(266),ye=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleDataUpdate=n.handleDataUpdate.bind(Object(i.a)(n)),n.state={data:{users:[{fname:"Seamus",lname:"Rioux",uid:"54321",email:"srioux@email.com",phone:"123-456-7891",notes:"Optional notes for Seamus",creationDate:(new Date).getTime(),courses:["Photography I"]},{fname:"Greg",lname:"Smelkov",uid:"12345",email:"greg@email.com",phone:"123-456-7891",notes:"Optional notes for Greg",creationDate:(new Date).getTime(),courses:["Photography I","Photography II"]}],items:[{name:"Canon 5D Mk II",iid:"0001",brand:"Canon",serial:"123456",category:"Camera",notes:"",atid:"3",courses:["Photography II"],creationDate:(new Date).getTime()},{name:"Canon 18-55 F4.0",iid:"0002",brand:"Canon",serial:"223456",category:"Lens",notes:"Missing lens cap",atid:"4",courses:["Photography I","Photography II"],creationDate:(new Date).getTime()},{name:"Mavic Drone",iid:"0003",brand:"Mavic",serial:"323456",category:"Other",notes:"Goes whirrr",atid:"",courses:["Photography I","Photography II"],creationDate:(new Date).getTime()},{name:"Canon 5D Mk II",iid:"0004",brand:"Canon",serial:"423456",category:"Camera",notes:"",atid:"",courses:["Photography II"],creationDate:(new Date).getTime()},{name:"Canon 18-55 F4.0",iid:"0005",brand:"Canon",serial:"523456",category:"Lens",notes:"Missing lens cap",atid:"",courses:["Photography I","Photography II"],creationDate:(new Date).getTime()}],transactions:[{tid:"1",uid:"54321",iid:"0001",checkedOutDate:new Date("7/22/2020").getTime(),dueDate:new Date("7/26/2020").getTime(),checkedInDate:new Date("7/24/2020").getTime(),notes:"Example of transaction notes"},{tid:"2",uid:"54321",iid:"0002",checkedOutDate:new Date("7/22/2020").getTime(),dueDate:new Date("7/26/2020").getTime(),checkedInDate:new Date("7/24/2020").getTime(),notes:"Example of transaction notes"},{tid:"3",uid:"12345",iid:"0001",checkedOutDate:new Date("7/25/2020").getTime(),dueDate:new Date("7/28/2020").getTime(),checkedInDate:"",notes:"Example of transaction notes"},{tid:"4",uid:"12345",iid:"0002",checkedOutDate:new Date("7/25/2020").getTime(),dueDate:new Date("7/27/2020").getTime(),checkedInDate:"",notes:"Example of transaction notes"}]}},n}return Object(s.a)(a,[{key:"handleDataUpdate",value:function(e){this.setState({data:e})}},{key:"render",value:function(){return r.a.createElement(De.a,{utils:ke.default},r.a.createElement(m.a,null,r.a.createElement(y.a,{fluid:!0,className:"no-gutters flex-col stretch-hw"},r.a.createElement(C,null),r.a.createElement(f.a,{className:"flex-grow no-gutters"},r.a.createElement(E.a,{md:"auto",className:"no-gutters"},r.a.createElement(k,null)),r.a.createElement(E.a,{className:"no-gutters"},r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/"},r.a.createElement(he,{data:this.state.data,onUpdateData:this.handleDataUpdate})),r.a.createElement(h.a,{path:"/users"},r.a.createElement(ge,{data:this.state.data,onUpdateData:this.handleDataUpdate})),r.a.createElement(h.a,{path:"/inventory"},r.a.createElement(be,{data:this.state.data,onUpdateData:this.handleDataUpdate})),r.a.createElement(h.a,{path:"/staff"},r.a.createElement(Ce,{onUpdateData:this.handleDataUpdate})),r.a.createElement(h.a,{path:"/transactions"},r.a.createElement(Ie,{data:this.state.data,onUpdateData:this.handleDataUpdate}))))))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(737);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ye,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[550,1,2]]]);
//# sourceMappingURL=main.6c961c1f.chunk.js.map