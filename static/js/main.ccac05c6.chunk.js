(this["webpackJsonpcage-ims-app"]=this["webpackJsonpcage-ims-app"]||[]).push([[0],{550:function(e,t,a){e.exports=a(738)},668:function(e,t,a){},737:function(e,t,a){},738:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),c=a.n(l),s=a(43),o=a(44),i=a(72),d=a(46),u=a(45),m=a(273),h=a(37),f=a(765),E=a(766),p=a(154),g=a(780),b=r.a.createElement("h3",null,"User Name ",r.a.createElement(p.a,{name:"chevron down"})),I=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(f.a,{className:"header"},r.a.createElement(E.a,null,r.a.createElement("h2",null,r.a.createElement(p.a,{name:"camera"}),"CageIMS")),r.a.createElement(E.a,null,r.a.createElement(g.a,{className:"header-dropdown",trigger:b,icon:null,direction:"left"},r.a.createElement(g.a.Menu,null,r.a.createElement(g.a.Item,{icon:"settings",text:"Settings"}),r.a.createElement(g.a.Item,{icon:"sign-out",text:"Sign Out",as:m.b,to:"/logout"})))))}}]),a}(n.Component),C=a(782),k=a(781),D=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(C.a,{variant:"dark",className:"sidebar flex-column"},r.a.createElement(k.a,{className:"flex-column"},r.a.createElement(k.a.Item,null,r.a.createElement(k.a.Link,{href:"#/"},r.a.createElement("h4",null,r.a.createElement(p.a,{name:"home"}),"Home"))),r.a.createElement(k.a.Item,null,r.a.createElement(k.a.Link,{href:"#/checkinout"},r.a.createElement("h4",null,r.a.createElement(p.a,{name:"sync"}),"Check In/Out"))),r.a.createElement(k.a.Item,null,r.a.createElement(k.a.Link,{href:"#/users"},r.a.createElement("h4",null,r.a.createElement(p.a,{name:"users"}),"Users"))),r.a.createElement(k.a.Item,null,r.a.createElement(k.a.Link,{href:"#/inventory"},r.a.createElement("h4",null,r.a.createElement(p.a,{name:"camera"}),"Inventory"))),r.a.createElement(k.a.Item,null,r.a.createElement(k.a.Link,{href:"#/staff"},r.a.createElement("h4",null,r.a.createElement(p.a,{name:"user"}),"Staff"))),r.a.createElement(k.a.Item,null,r.a.createElement(k.a.Link,{href:"#/transactions"},r.a.createElement("h4",null,r.a.createElement(p.a,{name:"history"}),"Transactions")))))}}]),a}(n.Component),O=a(774),v=(a(668),a(90)),y=a(775),S=a(755),N=a(779),w=a(778),U=a(777),j=a(365),x=a(276),F=a.n(x),T=a(511),R=a.n(T),A=a(521),P=a.n(A),V=a(512),M=a.n(V),L=a(519),B=a.n(L),z=a(363),H=a.n(z),G=a(362),Y=a.n(G),J=a(513),W=a.n(J),$=a(514),q=a.n($),K=a(516),Q=a.n(K),X=a(517),Z=a.n(X),_=a(518),ee=a.n(_),te=a(522),ae=a.n(te),ne=a(515),re=a.n(ne),le=a(520),ce=a.n(le),se=a(523),oe=a.n(se),ie={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(R.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(M.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(Y.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(W.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(H.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(q.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(re.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(Q.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(Z.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(ee.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(H.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(B.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(Y.a,Object.assign({style:{color:"white"}},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(ce.a,Object.assign({style:{color:"white"}},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(P.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(ae.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(oe.a,Object.assign({},e,{ref:t}))}))},de=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(F.a,{style:{flexGrow:1},components:{Toolbar:function(e){return r.a.createElement("div",{className:"table-header MuiPaper-rounded MuiPaper-elevation2"},r.a.createElement(x.MTableToolbar,e))},Search:function(e){return r.a.createElement("div",{style:{color:"white"}})}},icons:ie,title:this.props.title,columns:this.props.columns,data:this.props.data,options:Object(j.a)(Object(j.a)({},{search:!0,paging:!1,rowStyle:function(e){return{backgroundColor:e.backgroundColor?e.backgroundColor:e.tableData.id%2===0?"#FAFAFA":"#FFFFFF"}}}),this.props.options),onRowClick:this.props.onRowClick})}}]),a}(n.Component),ue=a(343),me=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleSearchResult=n.handleSearchResult.bind(Object(i.a)(n)),n.handleTransactionsChanges=n.handleDataChanges.bind(Object(i.a)(n)),n.state={error:!1,userFound:""},n}return Object(o.a)(a,[{key:"handleSearchResult",value:function(e){this.setState({userFound:e})}},{key:"handleDataChanges",value:function(e){this.props.onUpdateData(e)}},{key:"render",value:function(){var e;return e=this.state.userFound?r.a.createElement(fe,{data:this.props.data,onDoneClick:this.handleSearchResult,selectedUser:this.state.userFound,onUpdateData:this.handleTransactionsChanges}):r.a.createElement(he,{users:this.props.data.users,onSuccessfulSearchResult:this.handleSearchResult}),r.a.createElement(O.a,{className:"checkinout"},e)}}]),a}(n.Component),he=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({searchInput:e.target.value})},n.handleClick=function(){var e=n.props.users.filter((function(e){return e.uid===n.state.searchInput}));e.length>0?n.props.onSuccessfulSearchResult(e[0]):n.setState({error:!0})},n.state={error:!1},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.error;return r.a.createElement("div",{className:"checkinout-search"},r.a.createElement("h1",null,"Check In/Out"),r.a.createElement(y.a,{error:this.state.error,onChange:this.handleChange,size:"huge",fluid:!0,icon:"users",iconPosition:"left",placeholder:"Search by exact ID..."}),e&&r.a.createElement("div",{className:"error-text"},r.a.createElement("p",null,"Error: ID is invalid.")),r.a.createElement(S.a,{size:"big",animated:!0,onClick:this.handleClick},r.a.createElement(S.a.Content,{visible:!0},"Search"),r.a.createElement(S.a.Content,{hidden:!0},r.a.createElement(p.a,{name:"search"}))))}}]),a}(r.a.Component),fe=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).getTransactionsToShow=function(e){var t=Array.from((e||n.props.data.transactions).filter((function(e){return e.uid===n.props.selectedUser.uid&&!e.checkedInDate})));return t.forEach((function(e){var t=n.props.data.users.filter((function(t){return e.uid===t.uid}));e.fname=t[0]?t[0].fname:"",e.lname=t[0]?t[0].lname:"",t=n.props.data.items.filter((function(t){return e.iid===t.iid})),e.name=t[0]?t[0].name:"",e.category=t[0]?t[0].category:"",e.backgroundColor=!e.checkedInDate&&new Date(e.dueDate).getTime()<(new Date).getTime()?"mistyrose":""})),t},n.getItemsToShow=function(e){return Array.from((e||n.props.data.items).filter((function(e){return!e.atid&&n.props.selectedUser.courses.some((function(t){return e.courses.includes(t)}))})))},n.handleDoneClick=function(){n.props.onDoneClick("")},n.handleOpSelectClick=function(e,t){n.state.transactions.forEach((function(e){e.tableData&&(e.tableData.checked=!1)})),n.state.items.forEach((function(e){e.tableData&&(e.tableData.checked=!1)})),n.setState({op:t,isCheckoutModalOpen:!1})},n.close=function(){return n.setState({selectedItemId:null,isCheckoutModalOpen:!1})},n.handleChange=function(e,t){var a=e.target.value;n.setState((function(e){var n=Object.assign({},e.selectedItem);return n[t]=a,{selectedItem:n}}))},n.handleRowItemClick=function(e,t){if("checkin"===n.state.op){var a=n.state.transactions,r=a.indexOf(t);a[r].tableData.checked=!a[r].tableData.checked,n.setState({transactions:a})}else if("checkout"===n.state.op){var l=n.state.items,c=l.indexOf(t);l[c].tableData.checked=!l[c].tableData.checked,n.setState({items:l})}else n.setState({selectedItemId:t.tid,selectedItem:t})},n.handleReturnSelectedItemsClick=function(e){var t=Object.assign({},n.props.data);n.state.transactions.filter((function(e){var t;return null===(t=e.tableData)||void 0===t?void 0:t.checked})).map((function(e){return e.tid})).forEach((function(e){var a=t.transactions.find((function(t){return t.tid===e}));a.checkedInDate=(new Date).getTime(),t.items.find((function(e){return e.iid===a.iid})).atid=""})),n.props.onUpdateData(t),n.setState({transactions:n.getTransactionsToShow(),items:n.getItemsToShow()},n.handleOpSelectClick(e,""))},n.handleCheckOutCartButtonClick=function(e){var t=Object.assign({},n.props.data),a=n.state.items.filter((function(e){var t;return null===(t=e.tableData)||void 0===t?void 0:t.checked})),r=[];a.forEach((function(e){var a=(Math.max.apply(Math,Object(v.a)(t.transactions.concat(r).map((function(e){return e.tid}))))+1).toString();r.push({tid:a,uid:n.props.selectedUser.uid,iid:e.iid,checkedOutDate:(new Date).getTime(),dueDate:(new Date).getTime()+1728e5,checkedInDate:""})})),n.setState({newTransactions:r,isCheckoutModalOpen:!0})},n.handleConfirmCheckOutButtonClick=function(e){var t=Object.assign({},n.props.data);console.log(n.state.newTransactions),t.transactions=t.transactions.concat(n.state.newTransactions),console.log(t),n.state.newTransactions.forEach((function(e){return t.items.find((function(t){return t.iid===e.iid})).atid=e.tid})),n.props.onUpdateData(t),n.setState({transactions:n.getTransactionsToShow(t.transactions),items:n.getItemsToShow()},n.handleOpSelectClick(e,""))},n.formatDate=function(e){if(!e)return"";var t=new Date(e);return t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()},n.state={op:"",selectedItemId:null,selectedItem:{},selectedItemsToReturn:[],transactions:[],items:[],newTransactions:[],isCheckoutModalOpen:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setState({transactions:this.getTransactionsToShow(),items:this.getItemsToShow()})}},{key:"render",value:function(){var e=this,t=this.state.selectedItemId,a=this.state.selectedItem,n=[{title:"Item Name",field:"name"},{title:"Category",field:"category"},{title:"Transaction Notes",field:"notes"},{title:"Checked Out",field:"checkedOutDate",render:function(t){return e.formatDate(t.checkedOutDate)}},{title:"Due Date",field:"dueDate",render:function(t){return e.formatDate(t.dueDate)}}],l=[{title:"Item Name",field:"name"},{title:"Category",field:"category"},{title:"Notes",field:"notes"}],c=[{title:"Item Name",field:"name"},{title:"Category",field:"category"}],s=[{title:"Item Name",field:"name"},{title:"Category",field:"category"},{title:"Due Date",field:"dueDate",render:function(t){return r.a.createElement(ue.b,{autoOk:!0,variant:"inline",inputVariant:"outlined",label:"Select due date",format:"MM/dd/yyyy",value:new Date(e.state.newTransactions.find((function(e){return t.iid===e.iid})).dueDate),InputAdornmentProps:{position:"end"},onChange:function(a){return function(t,a){var n=Array.from(e.state.newTransactions);n.find((function(e){return e.iid===a})).dueDate=t.getTime(),e.setState({newTransactions:n})}(a,t.iid)}})}}],o=[{menuItem:"All",render:function(){return r.a.createElement(de,{data:e.state.items,columns:l,title:r.a.createElement("h3",null,"All"),onRowClick:function(t,a){return e.handleRowItemClick(t,a)},options:{selection:!0}})}}];Object(v.a)(new Set(this.state.items.map((function(e){return e.category})))).sort().forEach((function(t){o.push({menuItem:t,render:function(){return r.a.createElement(de,{data:e.state.items.filter((function(e){return e.category===t})),columns:l,title:r.a.createElement("h3",null,t),onRowClick:function(t,a){return e.handleRowItemClick(t,a)},options:{selection:!0}})}})}));var i=[{menuItem:"",render:function(){return r.a.createElement(de,{data:e.state.items.filter((function(e){var t;return null===(t=e.tableData)||void 0===t?void 0:t.checked})),columns:c,title:r.a.createElement("h3",null,"Cart"),onRowClick:function(t,a){return e.handleRowItemClick(t,a)},options:{selection:!0}})}}];return"checkin"===this.state.op?r.a.createElement("div",{className:"checkinout-viewuser"},r.a.createElement(f.a,{className:"page-menu"},r.a.createElement("h1",null,this.props.selectedUser.fname+" "+this.props.selectedUser.lname," ","-- Check In/Return"),r.a.createElement(S.a,{onClick:function(t){e.handleOpSelectClick(t,"")},size:"big",animated:!0,color:"green"},r.a.createElement(S.a.Content,{visible:!0},"Back"),r.a.createElement(S.a.Content,{hidden:!0},r.a.createElement(p.a,{name:"arrow circle left"})))),r.a.createElement(f.a,null,r.a.createElement("div",{className:"current-table-container"},r.a.createElement(de,{data:this.state.transactions,columns:n,title:r.a.createElement("h3",null,"Currently held items:"),onRowClick:function(t,a){return e.handleRowItemClick(t,a)},options:{selection:!0}}))),r.a.createElement(f.a,{className:"flex-end"},r.a.createElement(S.a,{onClick:function(t){e.handleOpSelectClick(t,"")},color:"red",size:"big"},r.a.createElement(S.a.Content,{visible:!0},"Cancel")),r.a.createElement(S.a,{onClick:function(t){e.handleReturnSelectedItemsClick(t)},color:"orange",size:"big"},r.a.createElement(S.a.Content,{visible:!0},"Return Selected Items")))):"checkout"===this.state.op?r.a.createElement("div",{className:"checkinout-viewuser"},r.a.createElement(f.a,{className:"page-menu"},r.a.createElement("h1",null,this.props.selectedUser.fname+" "+this.props.selectedUser.lname," ","-- Check Out/Borrow"),r.a.createElement(S.a,{onClick:function(t){e.handleOpSelectClick(t,"")},size:"big",animated:!0,color:"green"},r.a.createElement(S.a.Content,{visible:!0},"Back"),r.a.createElement(S.a.Content,{hidden:!0},r.a.createElement(p.a,{name:"arrow circle left"})))),r.a.createElement(f.a,null,r.a.createElement("div",{className:"checkout-table-wrapper"},r.a.createElement(N.a,{className:"checkout-inv-table",panes:o}),r.a.createElement(N.a,{className:"checkout-cart-table",panes:i}),r.a.createElement(U.a,{centered:!0,size:this.state.selectedUserId>=0?"xl":"lg",show:this.state.isCheckoutModalOpen,onHide:this.close},r.a.createElement(U.a.Header,{bsPrefix:"modal-header"},r.a.createElement(U.a.Title,null,"Check Out")),r.a.createElement(U.a.Body,null,r.a.createElement(f.a,null,r.a.createElement(E.a,null,r.a.createElement(de,{data:this.state.items.filter((function(e){var t;return null===(t=e.tableData)||void 0===t?void 0:t.checked})),columns:s,title:r.a.createElement("h3",null,"Cart"),options:{selection:!1}})))),r.a.createElement(U.a.Footer,null,r.a.createElement(S.a,{onClick:function(t){e.close()},color:"red",size:"big"},r.a.createElement(S.a.Content,{visible:!0},"Cancel")),r.a.createElement(S.a,{onClick:function(t){e.handleConfirmCheckOutButtonClick(t)},color:"blue",size:"big"},r.a.createElement(S.a.Content,{visible:!0},"Confirm Check Out")))))),r.a.createElement(f.a,{className:"flex-end"},r.a.createElement(S.a,{onClick:function(t){e.handleOpSelectClick(t,"")},color:"red",size:"big"},r.a.createElement(S.a.Content,{visible:!0},"Cancel")),r.a.createElement(S.a,{onClick:function(t){e.handleCheckOutCartButtonClick(t)},color:"blue",size:"big"},r.a.createElement(S.a.Content,{visible:!0},"Check Out Selected Items")))):r.a.createElement("div",{className:"checkinout-viewuser"},r.a.createElement(f.a,{className:"page-menu"},r.a.createElement("h1",null,this.props.selectedUser.fname+" "+this.props.selectedUser.lname),r.a.createElement(S.a,{onClick:this.handleDoneClick,size:"big",animated:!0,color:"green"},r.a.createElement(S.a.Content,{visible:!0},"Complete Transactions"),r.a.createElement(S.a.Content,{hidden:!0},r.a.createElement(p.a,{name:"check"})))),r.a.createElement(f.a,null,r.a.createElement("div",{className:"current-table-container"},r.a.createElement(de,{data:this.state.transactions,columns:n,title:r.a.createElement("h3",null,"Currently held items:"),onRowClick:function(t,a){return e.handleRowItemClick(t,a)}}),r.a.createElement(U.a,{centered:!0,size:(this.state.selectedItemId,"lg"),show:null!=t,onHide:this.close},r.a.createElement(U.a.Header,{closeButton:!0,bsPrefix:"modal-header"},r.a.createElement(U.a.Title,null,"Item")),r.a.createElement(U.a.Body,null,r.a.createElement(f.a,null,r.a.createElement(E.a,null,r.a.createElement(w.a,null,r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"First Name:",this.state.nameError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(w.a.Input,{error:this.state.nameError,name:"fname",placeholder:"First Name",defaultValue:a.fname,readOnly:!0})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Last Name:",this.state.nameError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(w.a.Input,{error:this.state.nameError,name:"lname",placeholder:"Last Name",defaultValue:a.lname,readOnly:!0})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Item Name:",this.state.categoryError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(w.a.Input,{error:this.state.categoryError,name:"name",placeholder:"name",defaultValue:a.category,readOnly:!0})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Category:",this.state.notesError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(w.a.Input,{name:"category",error:this.state.notesError,placeholder:"Category",defaultValue:a.notes,readOnly:!0})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Serial:",this.state.serialError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(w.a.Input,{name:"serial",error:this.state.serialError,placeholder:"Serial",defaultValue:a.serial,onChange:function(t){e.handleChange(t,"serial")},readOnly:!0})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Notes:",this.state.notesError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(w.a.Input,{name:"notes",error:this.state.notesError,placeholder:"Notes",defaultValue:a.notes,onChange:function(t){e.handleChange(t,"notes")},readOnly:!0})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Checked Out:"),r.a.createElement(w.a.Input,{name:"checkedOut",placeholder:"Checked Out",defaultValue:a.checkedOutDate,onChange:function(t){e.handleChange(t,"checkedOutDate")},readOnly:!0})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Checked In:"),r.a.createElement(w.a.Input,{name:"checkedIn",placeholder:"Checked In",error:!a.checkedInDate,defaultValue:a.checkedInDate,onChange:function(t){e.handleChange(t,"checkedInDate")},readOnly:!0})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Due Date:"),r.a.createElement(w.a.Input,{name:"due",placeholder:"Due Date",defaultValue:a.dueDate,onChange:function(t){e.handleChange(t,"dueDate")},readOnly:!0})))))),r.a.createElement(U.a.Footer,null)))),r.a.createElement(f.a,{className:"checkinout-buttons"},r.a.createElement(S.a,{onClick:function(t){e.handleOpSelectClick(t,"checkin")},color:"orange",size:"big"},r.a.createElement(S.a.Content,{visible:!0},"Check In/Return")),r.a.createElement(S.a,{onClick:function(t){e.handleOpSelectClick(t,"checkout")},color:"blue",size:"big"},r.a.createElement(S.a.Content,{visible:!0},"Check Out/Borrow"))))}}]),a}(r.a.Component),Ee=a(776),pe=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).close=function(){return n.setState({selectedUserId:null,firstNameError:!1,lastNameError:!1,idError:!1,emailError:!1,editable:!0})},n.handleChange=function(e,t){var a=e.target.value;n.setState((function(e){var n=Object.assign({},e.selectedUser);return n[t]=a,{selectedUser:n}}))},n.handleUserEditClick=function(){n.setState({editable:!n.state.editable})},n.handleUserSelectClick=function(e,t){n.setState({selectedUserId:t.tableData.id,selectedUser:n.props.data.users[t.tableData.id]}),n.setState((function(e){var t=Object.assign({},e.selectedUser),a=Array.from(n.props.data.transactions.filter((function(e){return e.uid===t.uid})));return a.forEach((function(e){e.backgroundColor=!e.checkedInDate&&new Date(e.dueDate).getTime()<(new Date).getTime()?"mistyrose":""})),t.transactions=a,{selectedUser:t}}))},n.handleAddUserClick=function(){n.setState({selectedUserId:-1,selectedUser:{fname:"",lname:"",courses:[],uid:"",email:"",phone:"",notes:"",tranactions:[]},editable:!1})},n.checkErrorUpdateDataSet=function(){if(!n.state.firstNameError&&!n.state.lastNameError&&!n.state.idError&&!n.state.emailError){var e=Object.assign({},n.props.data);n.state.selectedUserId>=0?e.users[n.state.selectedUserId]=n.state.selectedUser:e.users.push(n.state.selectedUser),n.props.onUpdateData(e),n.close()}},n.handleSubmitClick=function(){n.setState({firstNameError:""===n.state.selectedUser.fname,lastNameError:""===n.state.selectedUser.lname,idError:""===n.state.selectedUser.uid,emailError:""===n.state.selectedUser.email},n.checkErrorUpdateDataSet)},n.handleDropdownAddition=function(e,t){var a=t.value;n.setState((function(e){return{courseOptions:[{text:a,value:a}].concat(Object(v.a)(e.courseOptions))}}))},n.handleDropdownChange=function(e,t){var a=t.value;n.setState((function(e){var t=Object.assign({},e.selectedUser);return t.courses=a,{selectedUser:t}}))},n.formatDate=function(e){if(!e)return"";var t=new Date(e);return t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()},n.handleChange=n.handleChange.bind(Object(i.a)(n)),n.state={columnSet:[{title:"First Name",field:"fname"},{title:"Last Name",field:"lname"},{title:"Courses",field:"courses",render:function(e){return e.courses.length>0?e.courses.reduce((function(e,t){return r.a.createElement(r.a.Fragment,null,e,", ",t)})):""}}],open:!1,firstNameError:!1,lastNameError:!1,idError:!1,emailError:!1,editable:!0,selectedUserId:null,selectedUser:{fname:"",lname:"",courses:[],uid:"",email:"",phone:"",notes:"",transactions:[]},courseOptions:[{text:"Photography I",value:"Photography I"},{text:"Photography II",value:"Photography II"},{text:"Documentary Image",value:"Documentary Image"}]},n}return Object(o.a)(a,[{key:"render",value:function(){var e,t,a=this,n=this.state.selectedUserId,l=this.state.selectedUser;if(null!=this.state.selectedUserId&&this.state.selectedUserId>=0){var c=[{menuItem:"Due Items",render:function(){return r.a.createElement(de,{title:a.state.selectedUser.fname+" "+a.state.selectedUser.lname,columns:[{title:"Item ID",field:"iid"},{title:"Transaction ID",field:"tid"},{title:"Checked Out Date",field:"checkedOutDate",render:function(e){return a.formatDate(e.checkedOutDate)}},{title:"Due Date",field:"dueDate",render:function(e){return a.formatDate(e.dueDate)}}],data:Array.from(a.state.selectedUser.transactions.filter((function(e){return""===e.checkedInDate})))})}},{menuItem:"Completed Transactions",render:function(){return r.a.createElement(de,{title:a.state.selectedUser.fname+" "+a.state.selectedUser.lname,columns:[{title:"Item ID",field:"iid"},{title:"Transaction ID",field:"tid"},{title:"Checked Out Date",field:"checkedOutDate",render:function(e){return a.formatDate(e.checkedOutDate)}},{title:"Checked In Date",field:"checkedInDate",render:function(e){return a.formatDate(e.checkedInDate)}}],data:Array.from(a.state.selectedUser.transactions.filter((function(e){return!(""===e.checkedInDate)})))})}}];e=r.a.createElement(E.a,null,r.a.createElement(N.a,{panes:c,className:"stretch-h flex-col"})),t=r.a.createElement(S.a,{className:"btn btn-primary mr-auto",toggle:!0,active:!this.state.editable,onClick:this.handleUserEditClick},r.a.createElement(p.a,{name:"pencil"}),"Edit")}var s=this.state.courseOptions;return r.a.createElement(E.a,{className:"stretch-h flex-col"},r.a.createElement("div",{className:"top-bar"},r.a.createElement(S.a,{basic:!0,onClick:this.handleAddUserClick},"Create New User"),r.a.createElement(Ee.a,{clearing:!0})),r.a.createElement("div",{className:"page-content stretch-h"},r.a.createElement(E.a,{className:"stretch-h flex-col"},r.a.createElement(de,{data:Array.from(this.props.data.users),columns:this.state.columnSet,title:r.a.createElement("h2",null,"Users"),onRowClick:function(e,t){return a.handleUserSelectClick(e,t)}}),r.a.createElement(U.a,{centered:!0,size:this.state.selectedUserId>=0?"xl":"lg",show:null!=n,onHide:this.close},r.a.createElement(U.a.Header,{closeButton:!0,bsPrefix:"modal-header"},r.a.createElement(U.a.Title,null,"User")),r.a.createElement(U.a.Body,null,r.a.createElement(f.a,null,r.a.createElement(E.a,null,r.a.createElement(w.a,null,r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"First Name:",this.state.firstNameError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(w.a.Input,{error:this.state.firstNameError,name:"fname",placeholder:"First Name",defaultValue:l.fname,onChange:function(e){a.handleChange(e,"fname")},readOnly:this.state.editable})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Last Name:",this.state.lastNameError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(w.a.Input,{error:this.state.lastNameError,name:"lname",placeholder:"Last Name",defaultValue:l.lname,onChange:function(e){a.handleChange(e,"lname")},readOnly:this.state.editable})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Courses:"),r.a.createElement(g.a,{placeholder:"Courses",name:"courses",fluid:!0,multiple:!0,search:!0,selection:!0,allowAdditions:!0,options:s,value:l.courses,onAddItem:this.handleDropdownAddition,onChange:this.handleDropdownChange,disabled:this.state.editable})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"UML ID:",this.state.idError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(w.a.Input,{name:"id",error:this.state.idError,placeholder:"UML ID",defaultValue:l.uid,onChange:function(e){a.handleChange(e,"uid")},readOnly:this.state.editable})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Email:",this.state.emailError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(w.a.Input,{name:"email",error:this.state.emailError,placeholder:"Email",defaultValue:l.email,onChange:function(e){a.handleChange(e,"email")},readOnly:this.state.editable})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Phone Number:"),r.a.createElement(w.a.Input,{name:"phone",placeholder:"Phone Number",defaultValue:l.phone,onChange:function(e){a.handleChange(e,"phone")},readOnly:this.state.editable})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Notes:"),r.a.createElement(w.a.Input,{name:"notes",placeholder:"Notes",defaultValue:l.notes,onChange:function(e){a.handleChange(e,"notes")},readOnly:this.state.editable})))),e)),r.a.createElement(U.a.Footer,null,t,r.a.createElement(S.a,{id:"add-icon-handler",variant:"primary",onClick:this.handleSubmitClick},r.a.createElement(p.a,{name:"save"}),"Submit"))))))}}]),a}(n.Component),ge=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).close=function(){return n.setState({selectedItemId:null,nameError:!1,categoryError:!1,serialError:!1,editable:!0})},n.handleChange=function(e,t){var a=e.target.value;n.setState((function(e){var n=Object.assign({},e.selectedItem);return n[t]=a,{selectedItem:n}}))},n.handleUserSelectClick=function(e,t){n.setState({selectedItemId:t.tableData.id,selectedItem:n.props.data.items[t.tableData.id]})},n.handleAddUserClick=function(){n.setState({selectedItemId:-1,selectedItem:{name:"",iid:"",category:"",notes:"",atid:"",courses:[],expected:""},editable:!1})},n.handleUserEditClick=function(){n.setState({editable:!n.state.editable})},n.checkErrorUpdateDataSet=function(){if(!n.state.nameError&&!n.state.categoryError&&!n.state.serialError){var e=Object.assign({},n.props.data);n.state.selectedItemId>=0?e.items[n.state.selectedItemId]=n.state.selectedItem:e.items.push(n.state.selectedItem),n.props.onUpdateData(e),n.close()}},n.handleSubmitClick=function(){n.setState({nameError:""===n.state.selectedItem.name,categoryError:""===n.state.selectedItem.category,serialError:""===n.state.selectedItem.serial},n.checkErrorUpdateDataSet)},n.handleDropdownAddition=function(e,t){var a=t.value;n.setState((function(e){return{courseOptions:[{text:a,value:a}].concat(Object(v.a)(e.courseOptions))}}))},n.formatDate=function(e){if(!e)return"";var t=new Date(e);return t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()},n.handleDropdownChange=function(e,t){var a=t.value;n.setState((function(e){var t=Object.assign({},e.selectedItem);return t.courses=a,{selectedItem:t}}))},n.handleChange=n.handleChange.bind(Object(i.a)(n)),n.state={columnSet:[{title:"Name",field:"name"},{title:"Category",field:"category"},{title:"Item ID",field:"iid"},{title:"Availablity",field:"atid",render:function(e){return""===e.atid?"Available":"Unavailable"}},{title:"Notes",field:"notes"},{title:"Courses",field:"courses",render:function(e){return e.courses.length>0?e.courses.reduce((function(e,t){return r.a.createElement(r.a.Fragment,null,e,", ",t)})):""}},{title:"Expected Return Date",field:"expected",render:function(e){return n.formatDate(e.expected)}}],open:!1,nameError:!1,categoryError:!1,serialError:!1,editable:!0,selectedItemId:null,selectedItem:{name:"",iid:"",category:"",notes:"",atid:"",courses:[],expected:""},courseOptions:[{text:"Photography I",value:"Photography I"},{text:"Photography II",value:"Photography II"},{text:"Documentary Image",value:"Documentary Image"}]},n}return Object(o.a)(a,[{key:"render",value:function(){var e,t,a,n=this,l=this.state.selectedItemId,c=this.state.selectedItem;Array.from(this.props.data.items).forEach((function(e){var t=n.props.data.transactions.filter((function(t){return e.atid===t.tid}));console.log(t),e.expected=""!==e.atid?t[0].dueDate:"",e.backgroundColor=""!==e.atid?"mistyrose":""})),null!=this.state.selectedItemId&&this.state.selectedItemId>=0&&(""!==this.state.selectedItem.expected&&(t=r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Expected Return Date:"),r.a.createElement(w.a.Input,{name:"expected",placeholder:"Expected Return Date",defaultValue:this.formatDate(c.expected),readOnly:!0})),a=r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Transaction ID:"),r.a.createElement(w.a.Input,{name:"atid",placeholder:"Transaction ID",defaultValue:c.atid,readOnly:!0}))),e=r.a.createElement(S.a,{className:"btn btn-primary mr-auto",toggle:!0,active:!this.state.editable,onClick:this.handleUserEditClick},r.a.createElement(p.a,{name:"pencil"}),"Edit"));var s=this.state.courseOptions;return r.a.createElement(E.a,{className:"stretch-h flex-col"},r.a.createElement("div",{className:"top-bar"},r.a.createElement(S.a,{basic:!0,onClick:this.handleAddUserClick},"Create New Item"),r.a.createElement(Ee.a,{clearing:!0})),r.a.createElement("div",{className:"page-content stretch-h"},r.a.createElement(E.a,{className:"stretch-h flex-col"},r.a.createElement(de,{data:Array.from(this.props.data.items),columns:this.state.columnSet,title:r.a.createElement("h2",null,"Inventory"),onRowClick:function(e,t){return n.handleUserSelectClick(e,t)}}),r.a.createElement(U.a,{centered:!0,size:(this.state.selectedItemId,"lg"),show:null!=l,onHide:this.close},r.a.createElement(U.a.Header,{closeButton:!0,bsPrefix:"modal-header"},r.a.createElement(U.a.Title,null,"Item")),r.a.createElement(U.a.Body,null,r.a.createElement(f.a,null,r.a.createElement(E.a,null,r.a.createElement(w.a,null,r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Name:",this.state.nameError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(w.a.Input,{error:this.state.nameError,name:"name",placeholder:"Name",defaultValue:c.name,onChange:function(e){n.handleChange(e,"name")},readOnly:this.state.editable})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Category:",this.state.categoryError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(w.a.Input,{error:this.state.categoryError,name:"category",placeholder:"Category",defaultValue:c.category,onChange:function(e){n.handleChange(e,"category")},readOnly:this.state.editable})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Courses:"),r.a.createElement(g.a,{placeholder:"Courses",name:"courses",fluid:!0,multiple:!0,search:!0,selection:!0,allowAdditions:!0,options:s,value:c.courses,onAddItem:this.handleDropdownAddition,onChange:this.handleDropdownChange,disabled:this.state.editable})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Item ID:",this.state.serialError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(w.a.Input,{name:"iid",error:this.state.serialError,placeholder:"Item ID",defaultValue:c.iid,onChange:function(e){n.handleChange(e,"iid")},readOnly:this.state.editable})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Notes:"),r.a.createElement(w.a.Input,{name:"notes",error:this.state.notesError,placeholder:"Notes",defaultValue:c.notes,onChange:function(e){n.handleChange(e,"notes")},readOnly:this.state.editable})),a,t)))),r.a.createElement(U.a.Footer,null,e,r.a.createElement(S.a,{id:"add-icon-handler",variant:"primary",onClick:this.handleSubmitClick},r.a.createElement(p.a,{name:"save"}),"Submit"))))))}}]),a}(n.Component),be=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).close=function(){return n.setState({selectedUserId:null,firstNameError:!1,lastNameError:!1,idError:!1,emailError:!1})},n.handleChange=function(e,t){var a=e.target.value;n.setState((function(e){var n=Object.assign({},e.selectedUser);return n[t]=a,{selectedUser:n}}))},n.handleUserSelectClick=function(e,t){n.setState({selectedUserId:t.tableData.id,selectedUser:n.state.dataSet[t.tableData.id]})},n.handleAddUserClick=function(){n.setState({selectedUserId:-1,selectedUser:{fname:"",lname:"",courses:[],roles:[],id:"",email:"",phone:""}})},n.checkErrorUpdateDataSet=function(){n.state.firstNameError||n.state.lastNameError||n.state.idError||n.state.emailError||n.setState((function(e){var t=Array.from(e.dataSet);return n.state.selectedUserId>=0?t[n.state.selectedUserId]=n.state.selectedUser:t.push(n.state.selectedUser),{dataSet:t}}),n.close)},n.handleSubmitClick=function(){n.setState({firstNameError:""===n.state.selectedUser.fname,lastNameError:""===n.state.selectedUser.lname,idError:""===n.state.selectedUser.id,emailError:""===n.state.selectedUser.email},n.checkErrorUpdateDataSet)},n.handleDropdownAdditionRoles=function(e,t){var a=t.value;n.setState((function(e){return{roleOptions:[{text:a,value:a}].concat(Object(v.a)(e.roleOptions))}}))},n.handleDropdownAdditionCourses=function(e,t){var a=t.value;n.setState((function(e){return{courseOptions:[{text:a,value:a}].concat(Object(v.a)(e.courseOptions))}}))},n.handleDropdownChangeCourses=function(e,t){var a=t.value;n.setState((function(e){var t=Object.assign({},e.selectedUser);return t.courses=a,{selectedUser:t}}))},n.handleDropdownChangeRoles=function(e,t){var a=t.value;n.setState((function(e){var t=Object.assign({},e.selectedUser);return t.roles=a,{selectedUser:t}}))},n.handleChange=n.handleChange.bind(Object(i.a)(n)),n.state={dataSet:[{fname:"Seamus",lname:"Rioux",courses:["Photography I","Photography II"],roles:["Admin","Staff"],id:"54321",email:"seamus.rioux3@gmail.com",phone:"123-456-7890"},{fname:"Greg",lname:"Smelkov",courses:["Photography I"],roles:["Admin"],id:"12345",email:"greg@gmail.com",phone:"123-456-7890"}],columnSet:[{title:"First Name",field:"fname"},{title:"Last Name",field:"lname"},{title:"Courses",field:"courses",render:function(e){return e.courses.length>0?e.courses.reduce((function(e,t){return r.a.createElement(r.a.Fragment,null,e,", ",t)})):""}},{title:"Roles",field:"roles",render:function(e){return e.roles.length>0?e.roles.reduce((function(e,t){return r.a.createElement(r.a.Fragment,null,e,", ",t)})):""}}],open:!1,firstNameError:!1,lastNameError:!1,idError:!1,emailError:!1,selectedUserId:null,selectedUser:{fname:"",lname:"",courses:[],roles:[],id:"",email:"",phone:""},courseOptions:[{text:"Photography I",value:"Photography I"},{text:"Photography II",value:"Photography II"},{text:"Documentary Image",value:"Documentary Image"}],roleOptions:[{text:"Admin",value:"Admin"},{text:"Staff",value:"Staff"}]},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state.selectedUserId,a=this.state.selectedUser,n=this.state.courseOptions,l=this.state.roleOptions;return r.a.createElement(E.a,{className:"stretch-h flex-col"},r.a.createElement("div",{className:"top-bar"},r.a.createElement(S.a,{basic:!0,onClick:this.handleAddUserClick},"Create New Staff"),r.a.createElement(Ee.a,{clearing:!0})),r.a.createElement("div",{className:"page-content stretch-h"},r.a.createElement(E.a,{className:"stretch-h flex-col"},r.a.createElement(de,{data:Array.from(this.state.dataSet),columns:this.state.columnSet,title:r.a.createElement("h2",null,"Staff"),onRowClick:function(t,a){return e.handleUserSelectClick(t,a)}}),r.a.createElement(U.a,{centered:!0,size:"lg",show:null!=t,onHide:this.close},r.a.createElement(U.a.Header,{closeButton:!0,bsPrefix:"modal-header"},r.a.createElement(U.a.Title,null,"Staff")),r.a.createElement(U.a.Body,null,r.a.createElement(f.a,null,r.a.createElement(E.a,null,r.a.createElement(w.a,null,r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"First Name:",this.state.firstNameError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(w.a.Input,{error:this.state.firstNameError,name:"fname",placeholder:"First Name",defaultValue:a.fname,onChange:function(t){e.handleChange(t,"fname")}})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Last Name:",this.state.lastNameError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(w.a.Input,{error:this.state.lastNameError,name:"lname",placeholder:"Last Name",defaultValue:a.lname,onChange:function(t){e.handleChange(t,"lname")}})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Courses:"),r.a.createElement(g.a,{placeholder:"Courses",name:"courses",fluid:!0,multiple:!0,search:!0,selection:!0,allowAdditions:!0,options:n,value:a.courses,onAddItem:this.handleDropdownAdditionCourses,onChange:this.handleDropdownChangeCourses})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Roles:"),r.a.createElement(g.a,{placeholder:"Roles",name:"roles",fluid:!0,multiple:!0,search:!0,selection:!0,allowAdditions:!0,options:l,value:a.roles,onAddItem:this.handleDropdownAdditionRoles,onChange:this.handleDropdownChangeRoles})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"UML ID:",this.state.idError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(w.a.Input,{name:"id",error:this.state.idError,placeholder:"UML ID",defaultValue:a.id,onChange:function(t){e.handleChange(t,"id")}})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Email:",this.state.emailError&&r.a.createElement("span",{className:"error-text modal-label-error-text"},"Error: Field cannot be empty.")),r.a.createElement(w.a.Input,{name:"email",error:this.state.emailError,placeholder:"Email",defaultValue:a.email,onChange:function(t){e.handleChange(t,"email")}})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Phone Number:"),r.a.createElement(w.a.Input,{type:"phone",placeholder:"Phone Number",defaultValue:a.phone,onChange:function(t){e.handleChange(t,"phone")}})))))),r.a.createElement(U.a.Footer,null,r.a.createElement(S.a,{id:"add-icon-handler",variant:"primary",onClick:this.handleSubmitClick},"Submit"))))))}}]),a}(n.Component),Ie=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).close=function(){return n.setState({selectedItemId:null})},n.handleChange=function(e,t){var a=e.target.value;n.setState((function(e){var n=Object.assign({},e.selectedItem);return n[t]=a,{selectedItem:n}}))},n.handleUserSelectClick=function(e,t){n.setState({selectedItemId:t.tid,selectedItem:t})},n.handleDropdownAddition=function(e,t){var a=t.value;n.setState((function(e){return{courseOptions:[{text:a,value:a}].concat(Object(v.a)(e.courseOptions))}}))},n.handleDropdownChange=function(e,t){var a=t.value;n.setState((function(e){var t=Object.assign({},e.selectedItem);return t.courses=a,{selectedItem:t}}))},n.formatDate=function(e){if(!e)return"";var t=new Date(e);return t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()},n.handleChange=n.handleChange.bind(Object(i.a)(n)),n.state={columnSet:[{title:"First Name",field:"fname"},{title:"Last Name",field:"lname"},{title:"Item Name",field:"name"},{title:"Category",field:"category"},{title:"Notes",field:"notes"},{title:"Checked Out",field:"checkedOutDate",render:function(e){return n.formatDate(e.checkedOutDate)}},{title:"Due Date",field:"dueDate",render:function(e){return n.formatDate(e.dueDate)}},{title:"Checked In",field:"checkedInDate",render:function(e){return n.formatDate(e.checkedInDate)}}],open:!1,selectedItemId:null,selectedItem:{fname:"",lname:"",name:"",category:"",notes:"",checkedOutDate:"",checkedInDate:"",dueDate:""}},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state.selectedItemId,a=this.state.selectedItem,n=Array.from(this.props.data.transactions);return n.forEach((function(t){var a=e.props.data.users.filter((function(e){return t.uid===e.uid}));t.fname=a[0]?a[0].fname:"",t.lname=a[0]?a[0].lname:"",a=e.props.data.items.filter((function(e){return t.iid===e.iid})),t.name=a[0]?a[0].name:"",t.category=a[0]?a[0].category:"",t.backgroundColor=!t.checkedInDate&&new Date(t.dueDate).getTime()<(new Date).getTime()?"mistyrose":""})),r.a.createElement(E.a,{className:"stretch-h flex-col"},r.a.createElement("div",{className:"top-bar"},r.a.createElement(S.a,{basic:!0,href:"#/checkinout"},"Create New Transaction"),r.a.createElement(Ee.a,{clearing:!0})),r.a.createElement("div",{className:"page-content stretch-h"},r.a.createElement(E.a,{className:"stretch-h flex-col"},r.a.createElement(de,{data:n,columns:this.state.columnSet,title:r.a.createElement("h2",null,"Transaction History"),onRowClick:function(t,a){return e.handleUserSelectClick(t,a)}}),r.a.createElement(U.a,{centered:!0,size:(this.state.selectedItemId,"lg"),show:null!=t,onHide:this.close},r.a.createElement(U.a.Header,{closeButton:!0,bsPrefix:"modal-header"},r.a.createElement(U.a.Title,null,"Item")),r.a.createElement(U.a.Body,null,r.a.createElement(f.a,null,r.a.createElement(E.a,null,r.a.createElement(w.a,null,r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"First Name: "),r.a.createElement(w.a.Input,{name:"fname",placeholder:"First Name",defaultValue:a.fname,readOnly:!0})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Last Name:"),r.a.createElement(w.a.Input,{name:"lname",placeholder:"Last Name",defaultValue:a.lname,readOnly:!0})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Item Name:"),r.a.createElement(w.a.Input,{name:"name",placeholder:"name",defaultValue:a.name,readOnly:!0})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Category:"),r.a.createElement(w.a.Input,{name:"category",placeholder:"Category",defaultValue:a.category,readOnly:!0})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Item ID:"),r.a.createElement(w.a.Input,{name:"iid",placeholder:"Item ID",defaultValue:a.iid,readOnly:!0})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Notes:"),r.a.createElement(w.a.Input,{name:"notes",placeholder:"Notes",defaultValue:a.notes,readOnly:!0})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Checked Out:"),r.a.createElement(w.a.Input,{name:"checkedOut",placeholder:"Checked Out",defaultValue:this.formatDate(a.checkedOutDate),readOnly:!0})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Checked In:"),r.a.createElement(w.a.Input,{name:"checkedIn",placeholder:"Checked In",error:!a.checkedInDate,defaultValue:this.formatDate(a.checkedInDate),readOnly:!0})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Due Date:"),r.a.createElement(w.a.Input,{name:"due",placeholder:"Due Date",defaultValue:this.formatDate(a.dueDate),readOnly:!0})))))),r.a.createElement(U.a.Footer,null)))))}}]),a}(n.Component),Ce=a(30),ke=a(266),De=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleDataUpdate=n.handleDataUpdate.bind(Object(i.a)(n)),n.state={data:{users:[{fname:"Seamus",lname:"Rioux",uid:"54321",email:"srioux@email.com",phone:"123-456-7891",notes:"Optional notes for Seamus",courses:["Photography I"]},{fname:"Greg",lname:"Smelkov",uid:"12345",email:"greg@email.com",phone:"123-456-7891",notes:"Optional notes for Greg",courses:["Photography I","Photography II"]}],items:[{name:"Canon 5D Mk II",iid:"1",category:"Camera",notes:"",atid:"3",courses:["Photography II"]},{name:"Canon 18-55 F4.0",iid:"2",category:"Lens",notes:"Missing lens cap",atid:"4",courses:["Photography I","Photography II"]},{name:"Mavic Drone",iid:"3",category:"Other",notes:"Goes whirrr",atid:"",courses:["Photography I","Photography II"]},{name:"Canon 5D Mk II",iid:"4",category:"Camera",notes:"",atid:"",courses:["Photography II"]},{name:"Canon 18-55 F4.0",iid:"5",category:"Lens",notes:"Missing lens cap",atid:"",courses:["Photography I","Photography II"]}],transactions:[{tid:"1",uid:"54321",iid:"1",checkedOutDate:new Date("7/22/2020").getTime(),dueDate:new Date("7/26/2020").getTime(),checkedInDate:new Date("7/24/2020").getTime(),notes:"Example of transaction notes"},{tid:"2",uid:"54321",iid:"2",checkedOutDate:new Date("7/22/2020").getTime(),dueDate:new Date("7/26/2020").getTime(),checkedInDate:new Date("7/24/2020").getTime(),notes:"Example of transaction notes"},{tid:"3",uid:"12345",iid:"1",checkedOutDate:new Date("7/25/2020").getTime(),dueDate:new Date("7/27/2020").getTime(),checkedInDate:"",notes:"Example of transaction notes"},{tid:"4",uid:"12345",iid:"2",checkedOutDate:new Date("7/25/2020").getTime(),dueDate:new Date("7/27/2020").getTime(),checkedInDate:"",notes:"Example of transaction notes"}]}},n}return Object(o.a)(a,[{key:"handleDataUpdate",value:function(e){this.setState({data:e})}},{key:"render",value:function(){return r.a.createElement(Ce.a,{utils:ke.default},r.a.createElement(m.a,null,r.a.createElement(O.a,{fluid:!0,className:"no-gutters flex-col stretch-hw"},r.a.createElement(I,null),r.a.createElement(f.a,{className:"flex-grow no-gutters"},r.a.createElement(E.a,{md:"auto",className:"no-gutters"},r.a.createElement(D,null)),r.a.createElement(E.a,{className:"no-gutters"},r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/"}),r.a.createElement(h.a,{path:"/checkinout"},r.a.createElement(me,{data:this.state.data,onUpdateData:this.handleDataUpdate})),r.a.createElement(h.a,{path:"/users"},r.a.createElement(pe,{data:this.state.data,onUpdateData:this.handleDataUpdate})),r.a.createElement(h.a,{path:"/inventory"},r.a.createElement(ge,{data:this.state.data,onUpdateData:this.handleDataUpdate})),r.a.createElement(h.a,{path:"/staff"},r.a.createElement(be,{onUpdateData:this.handleDataUpdate})),r.a.createElement(h.a,{path:"/transactions"},r.a.createElement(Ie,{data:this.state.data,onUpdateData:this.handleDataUpdate}))))))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(737);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(De,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[550,1,2]]]);
//# sourceMappingURL=main.ccac05c6.chunk.js.map